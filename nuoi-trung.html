<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nu√¥i Trung Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        
        body {
            font-family: 'VT323', monospace;
            background-color: #f0f4f8;
            overflow-x: hidden;
        }

        .pixel-font {
            font-family: 'VT323', monospace;
        }

        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .float-money {
            position: absolute;
            animation: floatUp 1.5s ease-out forwards;
            color: #10B981;
            font-weight: bold;
            font-size: 1.5rem;
            pointer-events: none;
        }

        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }

        .character-container {
            transition: all 0.3s ease;
        }
        
        /* Custom Scrollbar for the Log */
        .log-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .log-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .log-scroll::-webkit-scrollbar-thumb {
            background: #888; 
            border-radius: 4px;
        }
        .log-scroll::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-md w-full bg-white rounded-xl shadow-2xl overflow-hidden border-4 border-gray-800 relative">
        
        <!-- Header -->
        <div class="bg-blue-600 p-4 text-white flex justify-between items-center border-b-4 border-gray-800">
            <div>
                <h1 class="text-3xl font-bold pixel-font">D·ª∞ √ÅN NU√îI TRUNG</h1>
                <p class="text-xs opacity-80">M√£ d·ª± √°n: <span id="project-code">TRUNG_VIP_001</span></p>
            </div>
            <div class="text-right">
                <div class="text-yellow-300 font-bold text-xl"><i class="fas fa-coins"></i> <span id="funds">0</span> VND</div>
                <div class="text-xs text-red-200 cursor-pointer hover:underline" onclick="showTransparencyError()">Minh b·∫°ch: <span id="transparency">100</span>%</div>
            </div>
        </div>

        <!-- Main Game Area -->
        <div class="p-6 relative bg-yellow-50 h-80 flex flex-col items-center justify-center">
            
            <!-- Speech Bubble -->
            <div id="speech-bubble" class="absolute top-4 bg-white p-3 rounded-lg border-2 border-gray-800 shadow-md mb-4 hidden transform transition-all duration-200">
                <p id="speech-text" class="text-gray-800 text-lg pixel-font text-center">Donate cho m√¨nh ƒëi!</p>
                <div class="absolute bottom-[-10px] left-1/2 transform -translate-x-1/2 w-4 h-4 bg-white border-r-2 border-b-2 border-gray-800 rotate-45"></div>
            </div>

            <!-- Character -->
            <div id="character" class="character-container text-9xl cursor-pointer select-none transition-transform active:scale-95" onclick="pokeCharacter()">
                üëæ
            </div>
            
            <!-- Status Bars -->
            <div class="w-full mt-8 space-y-2">
                <div class="flex items-center">
                    <span class="w-20 text-sm font-bold">No b·ª•ng:</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-4 border border-gray-600 overflow-hidden relative">
                        <div id="hunger-bar" class="bg-orange-500 h-full transition-all duration-500" style="width: 50%"></div>
                    </div>
                </div>
                <div class="flex items-center">
                    <span class="w-20 text-sm font-bold">Vui v·∫ª:</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-4 border border-gray-600 overflow-hidden relative">
                        <div id="happiness-bar" class="bg-pink-500 h-full transition-all duration-500" style="width: 50%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="bg-gray-800 p-4 grid grid-cols-2 gap-3">
            <button onclick="donate()" class="bg-green-500 hover:bg-green-600 text-white border-b-4 border-green-700 active:border-b-0 active:mt-1 rounded px-4 py-3 font-bold transition-all flex flex-col items-center">
                <i class="fas fa-hand-holding-dollar text-2xl mb-1"></i>
                <span>Ting Ting</span>
            </button>
            
            <button onclick="feed()" class="bg-orange-500 hover:bg-orange-600 text-white border-b-4 border-orange-700 active:border-b-0 active:mt-1 rounded px-4 py-3 font-bold transition-all flex flex-col items-center">
                <i class="fas fa-hamburger text-2xl mb-1"></i>
                <span>ƒÇn Tr∆∞a</span>
            </button>

            <button onclick="checkVar()" class="bg-blue-500 hover:bg-blue-600 text-white border-b-4 border-blue-700 active:border-b-0 active:mt-1 rounded px-4 py-3 font-bold transition-all flex flex-col items-center">
                <i class="fas fa-search-dollar text-2xl mb-1"></i>
                <span>Check VAR</span>
            </button>

            <button onclick="requestSaoKe()" class="bg-red-500 hover:bg-red-600 text-white border-b-4 border-red-700 active:border-b-0 active:mt-1 rounded px-4 py-3 font-bold transition-all flex flex-col items-center">
                <i class="fas fa-file-invoice text-2xl mb-1"></i>
                <span>ƒê√≤i Sao K√™</span>
            </button>
        </div>

        <!-- Log Area -->
        <div class="bg-black text-green-400 p-3 h-32 overflow-y-auto text-sm font-mono log-scroll border-t-2 border-gray-600" id="game-log">
            <div class="opacity-50">> H·ªá th·ªëng Nu√¥i Trung kh·ªüi ƒë·ªông...</div>
            <div class="opacity-50">> ƒêang t√¨m ki·∫øm M·∫°nh Th∆∞·ªùng Qu√¢n...</div>
            <div class="opacity-50">> T√¨m th·∫•y 0 ng∆∞·ªùi.</div>
        </div>

    </div>

    <!-- Popup Overlay -->
    <div id="popup" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg max-w-sm w-full mx-4 shadow-2xl border-4 border-gray-800 text-center">
            <h3 id="popup-title" class="text-xl font-bold mb-2">Th√¥ng b√°o</h3>
            <p id="popup-message" class="mb-4">N·ªôi dung th√¥ng b√°o</p>
            <button onclick="closePopup()" class="bg-gray-800 text-white px-6 py-2 rounded hover:bg-gray-700 font-bold">ƒê√≥ng</button>
        </div>
    </div>

    <script>
        // Game State
        let state = {
            funds: 0,
            hunger: 50,
            happiness: 50,
            transparency: 100,
            codes: ["TRUNG_VIP_001"]
        };

        const charEl = document.getElementById('character');
        const logEl = document.getElementById('game-log');
        const faces = ['üëæ', 'üòé', 'ü§ë', 'ü•∫', 'üòµ', 'ü§ñ'];

        // Sounds (Simulated with text/visuals mostly, but lets add logic)
        
        function updateUI() {
            document.getElementById('funds').innerText = state.funds.toLocaleString('vi-VN');
            document.getElementById('hunger-bar').style.width = state.hunger + '%';
            document.getElementById('happiness-bar').style.width = state.happiness + '%';
            document.getElementById('transparency').innerText = state.transparency;

            // Change face based on status
            if (state.hunger < 20) charEl.innerText = 'üòµ';
            else if (state.happiness > 80 && state.funds > 1000000) charEl.innerText = 'ü§ë';
            else if (state.transparency < 50) charEl.innerText = 'ü´£';
            else charEl.innerText = 'üëæ';
        }

        function log(msg) {
            const div = document.createElement('div');
            div.innerHTML = `> ${msg}`;
            div.className = "mb-1 border-b border-gray-800 border-opacity-20 pb-1";
            logEl.appendChild(div);
            logEl.scrollTop = logEl.scrollHeight;
        }

        function showSpeech(text) {
            const bubble = document.getElementById('speech-bubble');
            const txt = document.getElementById('speech-text');
            txt.innerText = text;
            bubble.classList.remove('hidden');
            setTimeout(() => bubble.classList.add('hidden'), 2000);
        }

        function showPopup(title, msg) {
            document.getElementById('popup-title').innerText = title;
            document.getElementById('popup-message').innerText = msg;
            document.getElementById('popup').classList.remove('hidden');
        }

        function closePopup() {
            document.getElementById('popup').classList.add('hidden');
        }

        // Actions
        function donate() {
            const amount = Math.floor(Math.random() * 50000) + 10000;
            state.funds += amount;
            
            // Randomly decrease transparency when receiving money
            if (Math.random() > 0.5) {
                state.transparency = Math.max(0, state.transparency - 5);
            }

            state.happiness = Math.min(100, state.happiness + 5);
            
            // Visual effect
            const float = document.createElement('div');
            float.innerText = `+${amount.toLocaleString()}ƒë`;
            float.className = 'float-money';
            float.style.left = '50%';
            float.style.top = '40%';
            document.querySelector('.relative').appendChild(float);
            setTimeout(() => float.remove(), 1500);

            showSpeech("Ting ting! C·∫£m ∆°n MTQ!");
            log(`Nh·∫≠n ƒë∆∞·ª£c <span class="text-yellow-400">${amount}ƒë</span> t·ª´ "Ng∆∞·ªùi gi·∫•u t√™n".`);
            
            updateUI();
        }

        function feed() {
            if (state.funds < 30000) {
                showSpeech("H·∫øt ti·ªÅn r·ªìi hu hu...");
                log("T√†i kho·∫£n kh√¥ng ƒë·ªß ti·ªÅn mua c∆°m.");
                return;
            }

            state.funds -= 30000;
            state.hunger = Math.min(100, state.hunger + 20);
            
            // Feeding sometimes doesn't increase hunger much (parody: small portion)
            if(Math.random() > 0.7) {
                 log("B·ªØa ƒÉn h√¥m nay h∆°i √≠t th·ªãt...");
                 showSpeech("Sao √≠t th·ªãt th·∫ø?");
            } else {
                log("Trung ƒë√£ ƒÉn no.");
                showSpeech("Ngon qu√°!");
            }
            updateUI();
        }

        function checkVar() {
            // Parody: Checking generates duplicate codes
            const newCode = `TRUNG_VIP_00${Math.floor(Math.random() * 999)}`;
            state.codes.push(newCode);
            document.getElementById('project-code').innerText = newCode;
            
            showPopup("K·∫øt qu·∫£ Check VAR", `Ph√°t hi·ªán m√£ nu√¥i c·ªßa b·∫°n ƒëang b·ªã tr√πng v·ªõi ${Math.floor(Math.random() * 50) + 2} ng∆∞·ªùi kh√°c! M√£ hi·ªán t·∫°i: ${newCode}`);
            
            state.transparency = Math.max(0, state.transparency - 15);
            log(`Check VAR: M√£ b·ªã tr√πng l·∫∑p. Ni·ªÅm tin gi·∫£m.`);
            updateUI();
        }

        function requestSaoKe() {
            // Parody: Audit creates errors or reduces happiness
            charEl.classList.add('shake');
            setTimeout(() => charEl.classList.remove('shake'), 500);

            const excuses = [
                "M√°y in ƒëang h·∫øt m·ª±c...",
                "ƒêang ƒëi du l·ªãch Ch√¢u √Çu, ch·ªù x√≠u...",
                "File Excel b·ªã l·ªói font...",
                "Ng√¢n h√†ng ƒëang b·∫£o tr√¨..."
            ];
            const excuse = excuses[Math.floor(Math.random() * excuses.length)];
            
            showSpeech("T·ª´ t·ª´ ƒë√£ n√†o!");
            log(`Y√™u c·∫ßu sao k√™ th·∫•t b·∫°i: ${excuse}`);
            
            state.happiness = Math.max(0, state.happiness - 10);
            updateUI();
        }

        function showTransparencyError() {
            showPopup("L·ªói h·ªá th·ªëng", "Ch·ª©c nƒÉng minh b·∫°ch hi·ªán ƒëang t·∫°m kh√≥a ƒë·ªÉ... r√† so√°t quy tr√¨nh.");
        }

        function pokeCharacter() {
            showSpeech("ƒê·ª´ng ƒë·ª•ng v√†o m√¨nh!");
            state.happiness -= 5;
            updateUI();
        }

        // Auto decrease hunger
        setInterval(() => {
            state.hunger = Math.max(0, state.hunger - 2);
            if(state.hunger < 20) {
                log("Trung ƒëang ƒë√≥i, h√£y donate!");
            }
            updateUI();
        }, 3000);

        // Random Donation Request (Spam SMS parody)
        setInterval(() => {
            if(Math.random() > 0.7) {
                log("SMS: 'ƒê√£ ƒë·∫øn h·∫°n ƒë√≥ng ti·ªÅn nu√¥i Trung nƒÉm 2030...'");
            }
        }, 8000);

        updateUI();
    </script>
</body>
</html>