<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° Th·∫ßn S·ªë H·ªçc: L√™ Th·ªã Ph∆∞∆°ng Y√™n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Earthly Wisdom -->
    <!-- Application Structure Plan: T√¥i ƒë√£ thi·∫øt k·∫ø ·ª©ng d·ª•ng theo c·∫•u tr√∫c dashboard v·ªõi thanh ƒëi·ªÅu h∆∞·ªõng c·ªë ƒë·ªãnh b√™n tr√°i, cho ph√©p ng∆∞·ªùi d√πng t·ª± do kh√°m ph√° c√°c ch·ªß ƒë·ªÅ ph·ª©c t·∫°p m√† kh√¥ng c·∫ßn cu·ªôn trang d√†i. C·∫•u tr√∫c n√†y ph√° v·ª° t√≠nh tuy·∫øn t√≠nh c·ªßa b√°o c√°o g·ªëc, bi·∫øn vi·ªác ƒë·ªçc th√†nh m·ªôt h√†nh tr√¨nh kh√°m ph√°. C√°c ph·∫ßn ch√≠nh bao g·ªìm: 1. T·ªïng quan c√°c ch·ªâ s·ªë c·ªët l√µi. 2. Giao thoa nƒÉng l∆∞·ª£ng (l√†m r√µ c√°c m√¢u thu·∫´n v√† s·ª©c m·∫°nh t·ªïng h·ª£p). 3. Bi·ªÉu ƒë·ªì Ng√†y sinh t∆∞∆°ng t√°c, v·ªõi t√≠nh nƒÉng ƒë·∫∑c bi·ªát cho th·∫•y s·ª± b√π ƒë·∫Øp c·ªßa t√™n g·ªçi. 4. H√†nh tr√¨nh 4 Ch·∫∑ng ƒë∆∞·ª£c th·ªÉ hi·ªán qua d√≤ng th·ªùi gian. 5. ƒê·ªãnh h∆∞·ªõng ph√°t tri·ªÉn. C·∫•u tr√∫c n√†y t·ªëi ∆∞u h√≥a vi·ªác ti·∫øp nh·∫≠n th√¥ng tin, gi√∫p ng∆∞·ªùi d√πng d·ªÖ d√†ng ti√™u h√≥a v√† tham chi·∫øu t·ª´ng ph·∫ßn. -->
    <!-- Visualization & Content Choices: 1. Ch·ªâ s·ªë c·ªët l√µi: M·ª•c ti√™u: Inform/Compare -> Tr√¨nh b√†y: C√°c th·∫ª th√¥ng tin c√≥ th·ªÉ l·∫≠t (flip cards) -> T∆∞∆°ng t√°c: Hover ƒë·ªÉ xem chi ti·∫øt -> L√Ω do: Tr√¨nh b√†y th√¥ng tin c·ªët l√µi ng·∫Øn g·ªçn, t·∫°o s·ª± t√≤ m√≤, cho ph√©p kh√°m ph√° s√¢u h∆°n. 2. Giao thoa N·ªôi t√¢m (Linh h·ªìn 8 vs Nh√¢n c√°ch 9): M·ª•c ti√™u: Explain Relationship -> Tr√¨nh b√†y: S∆° ƒë·ªì c√¢n b·∫±ng HTML/CSS -> T∆∞∆°ng t√°c: Hover -> L√Ω do: Tr·ª±c quan h√≥a s·ª± gi·∫±ng co n·ªôi t√¢m m·ªôt c√°ch sinh ƒë·ªông. 3. Bi·ªÉu ƒë·ªì Ng√†y sinh & S·ª± b√π ƒë·∫Øp: M·ª•c ti√™u: Organize/Show Relationship -> Tr√¨nh b√†y: L∆∞·ªõi HTML/CSS cho bi·ªÉu ƒë·ªì ng√†y sinh v√† m·ªôt n√∫t b·∫•m "Xem B√π ƒë·∫Øp t·ª´ T√™n" ƒë·ªÉ th√™m c√°c s·ªë ·∫£o v√†o √¥ tr·ªëng -> T∆∞∆°ng t√°c: Click/Hover -> L√Ω do: Bi·∫øn kh√°i ni·ªám tr·ª´u t∆∞·ª£ng (t√™n g·ªçi l·∫•p ƒë·∫ßy bi·ªÉu ƒë·ªì ng√†y sinh) th√†nh m·ªôt h√¨nh ·∫£nh t∆∞∆°ng t√°c, d·ªÖ hi·ªÉu v√† ƒë√°ng nh·ªõ. ƒê√¢y l√† "wow factor" ch√≠nh. 4. N·ª£ nghi·ªáp: M·ª•c ti√™u: Warn/Explain -> Tr√¨nh b√†y: Th·∫ª th√¥ng tin n·ªïi b·∫≠t v·ªõi icon c·∫£nh b√°o trong d√≤ng th·ªùi gian. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #fdfbf8; /* A warm, very light beige */
        }
        .nav-item.active {
            background-color: #7c2d12; /* stone-800 */
            color: white;
            font-weight: 600;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.6s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pinnacle-item.active .pinnacle-content {
            max-height: 500px;
            opacity: 1;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .guidance-tab.active {
            border-color: #7c2d12;
            color: #7c2d12;
            background-color: #fef3c7; 
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 350px;
            width: 100%;
            max-width: 500px;
        }
        .birth-grid .cell {
            transition: all 0.3s ease;
            position: relative;
        }
        .birth-grid .cell.empty:hover .tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .tooltip {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            transform: translateY(10px);
        }
        .virtual-number {
             animation: popIn 0.5s ease-out forwards;
        }
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="text-stone-800">

    <div class="min-h-screen lg:flex">
        <!-- Sidebar Navigation -->
        <aside class="bg-stone-800 text-white lg:w-64 w-full p-4 lg:p-6 shadow-2xl lg:min-h-screen lg:sticky lg:top-0 z-20">
            <div class="text-center mb-8">
                <h1 class="text-2xl font-bold text-amber-300">Th·∫ßn S·ªë H·ªçc</h1>
                <p class="text-sm text-stone-400">L√™ Th·ªã Ph∆∞∆°ng Y√™n</p>
            </div>
            <nav id="nav-menu" class="flex lg:flex-col flex-wrap justify-center gap-2">
                <a href="#tong-quan" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-stone-700 font-medium transition-all duration-200">
                    <span class="text-xl">üîÆ</span> T·ªïng quan
                </a>
                <a href="#giao-thoa" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-stone-700 font-medium transition-all duration-200">
                    <span class="text-xl">‚ú®</span> Giao thoa N·ªôi t√¢m
                </a>
                <a href="#bieu-do" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-stone-700 font-medium transition-all duration-200">
                    <span class="text-xl">üî¢</span> Bi·ªÉu ƒë·ªì Ng√†y sinh
                </a>
                <a href="#hanh-trinh" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-stone-700 font-medium transition-all duration-200">
                    <span class="text-xl">üó∫Ô∏è</span> H√†nh tr√¨nh 4 Ch·∫∑ng
                </a>
                <a href="#dinh-huong" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-stone-700 font-medium transition-all duration-200">
                    <span class="text-xl">üå±</span> ƒê·ªãnh h∆∞·ªõng Ph√°t tri·ªÉn
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 sm:p-6 lg:p-10">
            <!-- Section 1: T·ªïng quan -->
            <section id="tong-quan" class="content-section">
                <div class="text-center p-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-2xl text-white mb-10">
                    <h2 class="text-4xl font-bold mb-2">L√™ Th·ªã Ph∆∞∆°ng Y√™n</h2>
                    <p class="text-lg opacity-90">Ng√†y sinh: 01/05/1996</p>
                    <div class="mt-6">
                        <p class="text-lg">Con s·ªë ƒê∆∞·ªùng ƒë·ªùi</p>
                        <p class="text-8xl font-bold tracking-tighter">4</p>
                        <p class="mt-2 text-amber-100 max-w-2xl mx-auto">H√†nh tr√¨nh c·ªßa Nh√† Ki·∫øn T·∫°o: x√¢y d·ª±ng gi√° tr·ªã b·ªÅn v·ªØng qua s·ª± chƒÉm ch·ªâ, k·ª∑ lu·∫≠t v√† c√≥ ph∆∞∆°ng ph√°p.</p>
                    </div>
                </div>
                
                <h3 class="text-2xl font-bold text-stone-800 mb-6 text-center">C√°c Ch·ªâ s·ªë C·ªët l√µi</h3>
                <p class="max-w-3xl mx-auto text-center text-stone-600 mb-10">ƒê√¢y l√† nh·ªØng nƒÉng l∆∞·ª£ng n·ªÅn t·∫£ng ƒë·ªãnh h√¨nh n√™n con ng∆∞·ªùi ch·ªã. H√£y nh·∫•p v√†o t·ª´ng th·∫ª ƒë·ªÉ kh√°m ph√° s√¢u h∆°n v·ªÅ ƒëi·ªÉm m·∫°nh v√† th√°ch th·ª©c c·ªßa m·ªói ch·ªâ s·ªë.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="core-numbers-container">
                    <!-- Cards will be injected by JS -->
                </div>
            </section>
            
            <!-- Section 2: Giao thoa NƒÉng l∆∞·ª£ng -->
            <section id="giao-thoa" class="content-section space-y-12">
                <h2 class="text-3xl font-bold text-stone-800 text-center mb-10">B·∫£n Giao H∆∞·ªüng N·ªôi T√¢m</h2>
                 <p class="max-w-3xl mx-auto text-center text-stone-600 -mt-8 mb-12">S·ª©c m·∫°nh th·ª±c s·ª± n·∫±m ·ªü vi·ªác lu·∫≠n gi·∫£i s·ª± t∆∞∆°ng t√°c gi·ªØa c√°c con s·ªë. ƒê√¢y l√† nh·ªØng ƒë·ªông l·ª±c v√† m√¢u thu·∫´n c·ªët l√µi, t·∫°o n√™n h√†nh tr√¨nh ph√°t tri·ªÉn ƒë·ªôc ƒë√°o c·ªßa ch·ªã.</p>

                <div class="bg-white p-8 rounded-2xl shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 text-center mb-2">Nh√† L√£nh ƒê·∫°o Nh√¢n VƒÉn</h3>
                    <p class="text-center text-stone-500 mb-6">M√¢u thu·∫´n v√† s·ª± dung h√≤a gi·ªØa Linh h·ªìn 8 & Nh√¢n c√°ch 9</p>
                    <div class="flex items-center justify-center gap-6 my-6">
                        <div class="text-center p-4 bg-red-50 rounded-lg">
                            <p class="text-5xl font-bold text-red-600">8</p>
                            <p class="font-semibold">Linh H·ªìn: Kh√°t v·ªçng QUY·ªÄN L·ª∞C</p>
                            <p class="text-sm">Th√†nh c√¥ng, t·ª± ch·ªß, ki·ªÉm so√°t, t·∫°o d·ª±ng ƒë·∫ø ch·∫ø.</p>
                        </div>
                        <div class="w-24 h-2 bg-stone-200 rounded-full relative">
                            <div class="w-6 h-6 bg-stone-600 rounded-full absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2"></div>
                        </div>
                        <div class="text-center p-4 bg-sky-50 rounded-lg">
                            <p class="text-5xl font-bold text-sky-600">9</p>
                            <p class="font-semibold">Nh√¢n C√°ch: V·∫ª ngo√†i V·ªä THA</p>
                            <p class="text-sm">Tr√°ch nhi·ªám, l√Ω t∆∞·ªüng, quan t√¢m ƒë·∫øn c·ªông ƒë·ªìng.</p>
                        </div>
                    </div>
                     <p class="mt-6 text-center text-stone-700 max-w-2xl mx-auto">ƒê√¢y l√† xung ƒë·ªôt trung t√¢m: b√™n trong ch·ªã khao kh√°t quy·ªÅn l·ª±c v√† th√†nh c√¥ng c√° nh√¢n (8), nh∆∞ng b√™n ngo√†i l·∫°i to√°t ra v·∫ª c·ªßa m·ªôt ng∆∞·ªùi c√≥ tr√°ch nhi·ªám v·ªõi c·ªông ƒë·ªìng (9). B√†i h·ªçc l√† h·ª£p nh·∫•t ch√∫ng: **s·ª≠ d·ª•ng quy·ªÅn l·ª±c (8) ƒë·ªÉ ph·ª•c v·ª• cho l√Ω t∆∞·ªüng nh√¢n vƒÉn (9)**. Th√†nh c√¥ng c·ªßa ch·ªã kh√¥ng ch·ªâ ƒë·ªÉ cho ri√™ng m√¨nh, m√† ƒë·ªÉ t·∫°o ra t√°c ƒë·ªông l·ªõn lao v√† t√≠ch c·ª±c cho x√£ h·ªôi.</p>
                </div>

                 <div class="bg-white p-8 rounded-2xl shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 text-center mb-2">Nh√† Ki·∫øn T·∫°o ƒêi·ªÅu H√†nh</h3>
                    <p class="text-center text-stone-500 mb-6">S·ª©c m·∫°nh t·ªïng h·ª£p gi·ªØa ƒê∆∞·ªùng ƒë·ªùi 4 & S·ª© m·ªánh 8</p>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-4 text-center">
                        <div class="p-6 bg-orange-50 rounded-xl border border-orange-200">
                            <p class="text-5xl font-bold text-orange-600">4</p>
                            <p class="font-semibold mt-1">ƒê∆∞·ªùng ƒë·ªùi: Nh√† KI·∫æN T·∫†O</p>
                            <p class="text-sm text-stone-600">X√¢y d·ª±ng n·ªÅn t·∫£ng v·ªØng ch·∫Øc, l√†m vi·ªác chƒÉm ch·ªâ, c√≥ h·ªá th·ªëng.</p>
                        </div>
                        <div class="text-4xl font-bold text-stone-300">+</div>
                        <div class="p-6 bg-indigo-50 rounded-xl border border-indigo-200">
                            <p class="text-5xl font-bold text-indigo-600">8</p>
                            <p class="font-semibold mt-1">S·ª© m·ªánh: Nh√† ƒêI·ªÄU H√ÄNH</p>
                            <p class="text-sm text-stone-600">L√£nh ƒë·∫°o, qu·∫£n l√Ω t√†i ch√≠nh, c√≥ t·∫ßm nh√¨n kinh doanh.</p>
                        </div>
                    </div>
                    <p class="mt-6 text-center text-stone-700 max-w-2xl mx-auto">ƒê√¢y l√† s·ª± k·∫øt h·ª£p c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† th·ª±c t·∫ø. Nhi·ªám v·ª• c·ªßa ch·ªã kh√¥ng ch·ªâ l√† m·ªôt ng∆∞·ªùi th·ª£ chƒÉm ch·ªâ (4), m√† l√† m·ªôt t·ªïng c√¥ng tr√¨nh s∆∞, ng∆∞·ªùi c√≥ t·∫ßm nh√¨n bao qu√°t to√†n b·ªô d·ª± √°n: t·ª´ huy ƒë·ªông v·ªën, qu·∫£n l√Ω ngu·ªìn l·ª±c (8) ƒë·∫øn vi·ªác gi√°m s√°t th·ª±c thi m·ªôt c√°ch t·ªâ m·ªâ (4) ƒë·ªÉ t·∫°o ra nh·ªØng th√†nh t·ª±u quy m√¥ l·ªõn.</p>
                </div>
            </section>
            
            <!-- Section 3: Bi·ªÉu ƒë·ªì Ng√†y sinh -->
            <section id="bieu-do" class="content-section">
                <h2 class="text-3xl font-bold text-stone-800 text-center mb-10">B·∫£n ƒê·ªì NƒÉng L∆∞·ª£ng B·∫©m Sinh (01/05/1996)</h2>
                 <div class="grid grid-cols-1 lg:grid-cols-5 gap-10 items-start">
                    <div class="lg:col-span-3 flex flex-col items-center">
                        <h3 class="font-bold text-xl mb-4 text-center text-stone-800">L∆∞·ªõi NƒÉng l∆∞·ª£ng & B√†i h·ªçc t·ª´ s·ª± khuy·∫øt thi·∫øu</h3>
                        <p class="text-center text-stone-600 mb-6 max-w-md">L∆∞·ªõi n√†y cho th·∫•y nƒÉng l∆∞·ª£ng b·∫©m sinh. C√°c √¥ tr·ªëng l√† nh·ªØng b√†i h·ªçc l·ªõn nh·∫•t. Di chu·ªôt v√†o m·ªôt √¥ tr·ªëng ƒë·ªÉ kh√°m ph√°.</p>
                        <div id="birth-chart-grid" class="birth-grid relative grid grid-cols-3 gap-2 w-64 h-64 md:w-80 md:h-80 shadow-2xl bg-white p-4 rounded-2xl">
                            <!-- Cells are injected by JS -->
                        </div>
                        <p class="text-center text-stone-600 mt-4 max-w-md">M≈©i t√™n s·ª©c m·∫°nh duy nh·∫•t: <span class="font-bold text-green-600">M≈©i t√™n Quy·∫øt t√¢m 1-5-9</span>, cho ch·ªã m·ªôt √Ω ch√≠ v√† ngh·ªã l·ª±c phi th∆∞·ªùng.</p>
                    </div>
                    <div class="lg:col-span-2">
                        <h3 class="font-bold text-xl mb-4 text-center text-stone-800">S·ª± B√π ƒê·∫Øp K·ª≥ Di·ªáu T·ª´ T√™n G·ªçi</h3>
                         <p class="text-center text-stone-600 mb-6 mx-auto">C√°i t√™n "L√™ Th·ªã Ph∆∞∆°ng Y√™n" ho·∫°t ƒë·ªông nh∆∞ m·ªôt s·ª© m·ªánh gi·∫£i c·ª©u, mang ƒë·∫øn nh·ªØng nƒÉng l∆∞·ª£ng c√≤n thi·∫øu trong ng√†y sinh.</p>
                        <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg space-y-4">
                             <div class="flex flex-col items-center">
                                 <p class="font-semibold text-stone-700 mb-4">C√°c "vi√™n ƒë√° qu√Ω" t·ª´ t√™n g·ªçi:</p>
                                 <div class="flex flex-wrap gap-3 justify-center">
                                     <span class="px-3 py-1 bg-sky-100 text-sky-800 rounded-full font-medium text-sm">Nh√¢n c√°ch 9</span>
                                     <span class="px-3 py-1 bg-red-100 text-red-800 rounded-full font-medium text-sm">S·ª© m·ªánh 8</span>
                                     <span class="px-3 py-1 bg-red-100 text-red-800 rounded-full font-medium text-sm">Linh h·ªìn 8</span>
                                     <span class="px-3 py-1 bg-amber-100 text-amber-800 rounded-full font-medium text-sm">Th√°i ƒë·ªô 6</span>
                                 </div>
                                 <button id="fill-chart-btn" class="mt-6 bg-stone-700 text-white font-semibold px-4 py-2 rounded-lg hover:bg-stone-800 transition-all">Xem S·ª± B√π ƒê·∫Øp</button>
                             </div>
                             <p id="fill-explanation" class="pt-4 text-center text-sm text-stone-600 transition-opacity duration-500 opacity-0">T√™n g·ªçi ƒë√£ b·ªï sung c√°c s·ªë 2, 3, 7, 8. Con s·ªë duy nh·∫•t v·∫´n c√≤n tr·ªëng ho√†n to√†n l√† <span class="font-bold text-orange-600 text-base">s·ªë 4</span>, kh·∫≥ng ƒë·ªãnh ƒë√¢y ch√≠nh l√† b√†i h·ªçc c·ªët l√µi ch·ªã ph·∫£i t·ª± m√¨nh chinh ph·ª•c trong cu·ªôc ƒë·ªùi.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 4: H√†nh tr√¨nh 4 Ch·∫∑ng -->
            <section id="hanh-trinh" class="content-section">
                <h2 class="text-3xl font-bold text-stone-800 text-center mb-2">B·ªën M√πa Cu·ªôc ƒê·ªùi</h2>
                <p class="max-w-3xl mx-auto text-center text-stone-600 mb-12">Cu·ªôc ƒë·ªùi ƒë∆∞·ª£c chia th√†nh 4 giai ƒëo·∫°n l·ªõn, g·ªçi l√† 4 ƒê·ªânh cao. M·ªói giai ƒëo·∫°n mang m·ªôt b√†i h·ªçc v√† c∆° h·ªôi ri√™ng. Ch·ªã ƒëang ·ªü trong ƒê·ªânh cao s·ªë 1. H√£y nh·∫•p v√†o t·ª´ng ch·∫∑ng ƒë·ªÉ kh√°m ph√°.</p>
                <div id="pinnacles-timeline" class="space-y-4"></div>
            </section>
            
            <!-- Section 5: ƒê·ªãnh h∆∞·ªõng Ph√°t tri·ªÉn -->
            <section id="dinh-huong" class="content-section">
                <h2 class="text-3xl font-bold text-stone-800 text-center mb-10">Kim Ch·ªâ Nam H√†nh ƒê·ªông</h2>
                <div class="max-w-4xl mx-auto">
                    <div id="guidance-tabs" class="flex justify-center border-b border-stone-200 mb-6 flex-wrap gap-2 sm:gap-4">
                         <!-- Tabs will be injected by JS -->
                    </div>
                    <div id="guidance-content" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg min-h-[300px]">
                        <!-- Content will be injected by JS -->
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const data = {
        coreNumbers: [
            { number: '4', title: 'ƒê∆∞·ªùng ƒë·ªùi', color: 'orange', description: 'H√†nh tr√¨nh c·ªßa Nh√† Ki·∫øn T·∫°o: h·ªçc c√°ch x√¢y d·ª±ng gi√° tr·ªã b·ªÅn v·ªØng qua s·ª± chƒÉm ch·ªâ, k·ª∑ lu·∫≠t v√† c√≥ ph∆∞∆°ng ph√°p.' },
            { number: '8', title: 'S·ª© m·ªánh', color: 'indigo', description: 'Nhi·ªám v·ª• c·ªßa Nh√† ƒêi·ªÅu H√†nh: h·ªçc c√°ch s·ª≠ d·ª•ng quy·ªÅn l·ª±c, qu·∫£n l√Ω t√†i ch√≠nh v√† l√£nh ƒë·∫°o ƒë·ªÉ ƒë·∫°t th√†nh t·ª±u l·ªõn.' },
            { number: '8', title: 'Linh h·ªìn', color: 'red', description: 'Kh√°t v·ªçng s√¢u th·∫≥m v·ªÅ s·ª± th√†nh c√¥ng, ƒë·ªôc l·∫≠p, ki·ªÉm so√°t v√† ƒë∆∞·ª£c c√¥ng nh·∫≠n v·ªÅ nƒÉng l·ª±c.' },
            { number: '9', title: 'Nh√¢n c√°ch', color: 'sky', description: 'V·∫ª ngo√†i c·ªßa ng∆∞·ªùi c√≥ l√Ω t∆∞·ªüng, ƒë√°ng tin c·∫≠y, tr√°ch nhi·ªám v√† lu√¥n quan t√¢m ƒë·∫øn c·ªông ƒë·ªìng.' },
            { number: '6', title: 'Th√°i ƒë·ªô', color: 'amber', description: 'Ph·∫£n ·ª©ng b·∫£n nƒÉng b·∫±ng s·ª± chƒÉm s√≥c, b·∫£o v·ªá v√† n·ªó l·ª±c t√°i l·∫≠p s·ª± h√≤a h·ª£p, c√¢n b·∫±ng.' }
        ],
        birthChart: {
            grid: [
                { num: '1', count: 2, pos: [2, 0] },
                { num: '5', count: 1, pos: [1, 1] },
                { num: '6', count: 1, pos: [0, 1] },
                { num: '9', count: 2, pos: [0, 2] }
            ],
            emptyCells: [
                { num: 2, pos: [1, 0], text: 'B√†i h·ªçc v·ªÅ Tr·ª±c gi√°c & Th·∫•u c·∫£m' },
                { num: 3, pos: [0, 0], text: 'B√†i h·ªçc v·ªÅ T∆∞ duy & Giao ti·∫øp' },
                { num: 4, pos: [2, 1], text: 'B√†i h·ªçc C·ªët l√µi: K·ª∑ lu·∫≠t & T·ªï ch·ª©c' },
                { num: 7, pos: [2, 2], text: 'B√†i h·ªçc v·ªÅ Tr·∫£i nghi·ªám & Ph√¢n t√≠ch' },
                { num: 8, pos: [1, 2], text: 'B√†i h·ªçc v·ªÅ ƒê·ªôc l·∫≠p & Tr√≠ tu·ªá c·∫£m x√∫c' }
            ],
            virtualNumbers: [
                { num: 2, pos: [1, 0] }, { num: 3, pos: [0, 0] }, { num: 7, pos: [2, 2] }, { num: 8, pos: [1, 2] }
            ]
        },
        pinnacles: [
            { number: '6', age: '0 - 32', title: 'Tr√°ch nhi·ªám, Gia ƒë√¨nh & S√°ng t·∫°o', current: true, description: 'Giai ƒëo·∫°n hi·ªán t·∫°i c·ªßa ch·ªã (ƒë·∫øn 2028). ƒê√¢y l√† th·ªùi k·ª≥ ƒë·ªÉ h·ªçc c√°c b√†i h·ªçc v·ªÅ tr√°ch nhi·ªám, t√¨nh y√™u th∆∞∆°ng, v√† s·ª± s√°ng t·∫°o. Giai ƒëo·∫°n n√†y l√† ƒë·ªÉ x√¢y d·ª±ng n·ªÅn t·∫£ng c·∫£m x√∫c v√† tr√°ch nhi·ªám, tr∆∞·ªõc khi b∆∞·ªõc v√†o giai ƒëo·∫°n x√¢y d·ª±ng s·ª± nghi·ªáp m·∫°nh m·∫Ω h∆°n.' },
            { number: '8', age: '32 - 41', title: 'X√¢y d·ª±ng Quy·ªÅn l·ª±c & S·ª± nghi·ªáp', description: 'Giai ƒëo·∫°n n√†y c·ªông h∆∞·ªüng m·∫°nh m·∫Ω v·ªõi S·ª© m·ªánh & Linh h·ªìn 8. ƒê√¢y l√† th·ªùi ƒëi·ªÉm v√†ng ƒë·ªÉ m·∫°nh d·∫°n b∆∞·ªõc ra ngo√†i, n·∫Øm b·∫Øt c∆° h·ªôi, x√¢y d·ª±ng s·ª± ƒë·ªôc l·∫≠p v√† t·∫°o ra nh·ªØng th√†nh t·ª±u v·∫≠t ch·∫•t to l·ªõn. B√†i h·ªçc c·ªßa ƒê∆∞·ªùng ƒë·ªùi 4 s·∫Ω ƒë∆∞·ª£c th·ª±c h√†nh m·∫°nh m·∫Ω nh·∫•t t·∫°i ƒë√¢y.' },
            { number: '14/5', age: '41 - 50', title: 'Th·ª≠ th√°ch N·ª£ nghi·ªáp & T·ª± do', karmic: true, description: 'M·ªôt giai ƒëo·∫°n th·ª≠ th√°ch l·ªõn, ƒë·ªëi m·∫∑t N·ª£ nghi·ªáp 14/5. S·∫Ω c√≥ nhi·ªÅu bi·∫øn ƒë·ªông, thay ƒë·ªïi b·∫•t ng·ªù. B√†i h·ªçc l√† ph·∫£i h·ªçc c√°ch t·ª± ch·ªß, s·ª≠ d·ª•ng t·ª± do m·ªôt c√°ch c√≥ tr√°ch nhi·ªám. ƒê√¢y l√† b√†i ki·ªÉm tra ƒë·ªô v·ªØng ch·∫Øc c·ªßa n·ªÅn m√≥ng (ƒê∆∞·ªùng ƒë·ªùi 4) ƒë√£ x√¢y d·ª±ng ·ªü c√°c giai ƒëo·∫°n tr∆∞·ªõc.' },
            { number: '3', age: '50+', title: 'S√°ng t·∫°o & Ni·ªÅm vui Bi·ªÉu ƒë·∫°t', description: 'Sau khi v∆∞·ª£t qua th·ª≠ th√°ch, ƒë√¢y l√† giai ƒëo·∫°n t·∫≠n h∆∞·ªüng th√†nh qu·∫£, th·ªÉ hi·ªán b·∫£n th√¢n m·ªôt c√°ch t·ª± do, vui v·∫ª. Ni·ªÅm vui s·∫Ω ƒë·∫øn t·ª´ giao ti·∫øp, vi·∫øt l√°ch, ngh·ªá thu·∫≠t v√† chia s·∫ª tr√≠ tu·ªá ƒë√£ ƒë√∫c k·∫øt.' }
        ],
        guidance: {
            career: { title: 'S·ª± nghi·ªáp', content: `<p class="mb-4">S·ª± nghi·ªáp l√Ω t∆∞·ªüng ph·∫£i dung h√≤a ƒë∆∞·ª£c 3 nƒÉng l∆∞·ª£ng: x√¢y d·ª±ng b·ªÅn v·ªØng (4), qu·∫£n l√Ω quy·ªÅn l·ª±c (8) v√† ph·ª•c v·ª• c·ªông ƒë·ªìng (9). C√°c lƒ©nh v·ª±c ph√π h·ª£p:</p><ul class="list-disc list-inside space-y-2"><li><strong>L√£nh ƒë·∫°o Doanh nghi·ªáp x√£ h·ªôi/T·ªï ch·ª©c phi l·ª£i nhu·∫≠n:</strong> C√°c v·ªã tr√≠ CEO, gi√°m ƒë·ªëc ƒëi·ªÅu h√†nh, n∆°i d√πng t√†i nƒÉng kinh doanh (8) ƒë·ªÉ t·∫°o ra l·ª£i √≠ch c·ªông ƒë·ªìng (9) tr√™n n·ªÅn t·∫£ng v·ªØng ch·∫Øc (4).</li><li><strong>Chuy√™n gia T√†i ch√≠nh/ƒê·∫ßu t∆∞ c√≥ ƒë·∫°o ƒë·ª©c:</strong> Qu·∫£n l√Ω qu·ªπ, ho·∫°ch ƒë·ªãnh t√†i ch√≠nh, v·ªõi t√¥n ch·ªâ ƒë·∫ßu t∆∞ c√≥ tr√°ch nhi·ªám v√† t·∫°o gi√° tr·ªã l√¢u d√†i.</li><li><strong>Lu·∫≠t s∆∞ ho·∫∑c Ch√≠nh tr·ªã gia:</strong> Con ƒë∆∞·ªùng tr·ª±c ti·∫øp ƒë·ªÉ s·ª≠ d·ª•ng quy·ªÅn l·ª±c (8) nh·∫±m b·∫£o v·ªá c√¥ng l√Ω v√† x√¢y d·ª±ng ch√≠nh s√°ch ph·ª•c v·ª• c·ªông ƒë·ªìng (9).</li><li><strong>Nh√† T·ª´ thi·ªán Chuy√™n nghi·ªáp:</strong> S√°ng l·∫≠p v√† ƒëi·ªÅu h√†nh c√°c qu·ªπ t·ª´ thi·ªán quy m√¥ l·ªõn, d√πng k·ªπ nƒÉng qu·∫£n l√Ω c·ªßa s·ªë 8 ƒë·ªÉ t·ªëi ƒëa h√≥a t√°c ƒë·ªông nh√¢n ƒë·∫°o c·ªßa s·ªë 9.</li></ul>`},
            personal: { title: 'Ph√°t tri·ªÉn C√° nh√¢n', content: `<p class="mb-4">Ch√¨a kh√≥a ph√°t tri·ªÉn n·∫±m ·ªü vi·ªác ch·ªß ƒë·ªông "l·∫•p ƒë·∫ßy" c√°c √¥ tr·ªëng trong bi·ªÉu ƒë·ªì ng√†y sinh, v·ªën c≈©ng l√† b√†i h·ªçc c·ªßa ƒê∆∞·ªùng ƒë·ªùi 4:</p><ul class="list-disc list-inside space-y-2"><li><strong>R√®n luy·ªán t√≠nh K·ª∑ lu·∫≠t (l·∫•p s·ªë 4):</strong> ƒê√¢y l√† ∆∞u ti√™n s·ªë m·ªôt. H√£y b·∫Øt ƒë·∫ßu b·∫±ng vi·ªác l·∫≠p k·∫ø ho·∫°ch chi ti·∫øt cho ng√†y, tu·∫ßn, th√°ng. S·ª≠ d·ª•ng c√°c c√¥ng c·ª• qu·∫£n l√Ω c√¥ng vi·ªác v√† n·ªó l·ª±c tu√¢n th·ªß ch√∫ng. H√£y bi·∫øn s·ª± k·ª∑ lu·∫≠t tr·ªü th√†nh m·ªôt th√≥i quen.</li><li><strong>C√¢n b·∫±ng C·∫£m x√∫c (l·∫•p s·ªë 2, 8):</strong> Th·ª±c h√†nh thi·ªÅn ƒë·ªãnh ho·∫∑c yoga ƒë·ªÉ k·∫øt n·ªëi v√† l√†m d·ªãu n·ªôi t√¢m. Vi·∫øt nh·∫≠t k√Ω ƒë·ªÉ bi·ªÉu ƒë·∫°t nh·ªØng c·∫£m x√∫c kh√≥ n√≥i. H·ªçc v·ªÅ Tr√≠ tu·ªá c·∫£m x√∫c (EQ) ƒë·ªÉ hi·ªÉu m√¨nh, hi·ªÉu ng∆∞·ªùi.</li><li><strong>H·ªçc h·ªèi qua Tr·∫£i nghi·ªám (l·∫•p s·ªë 7):</strong> ƒê·ª´ng ch·ªâ ph√¢n t√≠ch, h√£y h√†nh ƒë·ªông. Tham gia c√°c kh√≥a h·ªçc, ƒë·ªçc s√°ch, ƒëi du l·ªãch ƒë·ªÉ t√≠ch l≈©y kinh nghi·ªám. Ch·∫•p nh·∫≠n th·∫•t b·∫°i nh∆∞ m·ªôt ph·∫ßn c·ªßa qu√° tr√¨nh h·ªçc h·ªèi.</li><li><strong>C√¢n b·∫±ng Quy·ªÅn l·ª±c & L√≤ng nh√¢n √°i (8 v√† 9):</strong> Lu√¥n t·ª± h·ªèi: "M·ª•c ti√™u n√†y c√≥ ph·ª•c v·ª• ƒëi·ªÅu g√¨ l·ªõn h∆°n b·∫£n th√¢n m√¨nh kh√¥ng?". G·∫Øn tham v·ªçng c√° nh√¢n (8) v·ªõi m·ª•c ƒë√≠ch cao c·∫£ (9) s·∫Ω t·∫°o ra ƒë·ªông l·ª±c m·∫°nh m·∫Ω v√† b·ªÅn v·ªØng.</li></ul>`}
        }
    };
    
    function renderCoreNumbers() {
        const container = document.getElementById('core-numbers-container');
        const colors = { orange: 'text-orange-600 bg-orange-100', indigo: 'text-indigo-600 bg-indigo-100', red: 'text-red-600 bg-red-100', sky: 'text-sky-600 bg-sky-100', amber: 'text-amber-600 bg-amber-100' };
        container.innerHTML = data.coreNumbers.map(item => `
            <div class="bg-white rounded-xl shadow-lg p-6 text-center transition-transform transform hover:-translate-y-2">
                <p class="font-semibold text-stone-500">${item.title}</p>
                <p class="text-6xl font-bold my-2 ${colors[item.color].split(' ')[0]}">${item.number}</p>
                <p class="text-sm text-stone-600 min-h-[60px] flex items-center justify-center">${item.description}</p>
            </div>
        `).join('');
    }

    function renderBirthChart() {
        const grid = document.getElementById('birth-chart-grid');
        grid.innerHTML = '';
        
        const arrowContainer = document.createElement('div');
        arrowContainer.id = 'arrow-container';
        arrowContainer.className = 'absolute top-0 left-0 w-full h-full pointer-events-none';
        grid.appendChild(arrowContainer);

        const cells = Array(3).fill(null).map(() => Array(3).fill(null));
        
        data.birthChart.grid.forEach(item => {
            cells[item.pos[0]][item.pos[1]] = { num: item.num, count: item.count, virtual: false };
        });

        data.birthChart.emptyCells.forEach(item => {
            cells[item.pos[0]][item.pos[1]] = { num: item.num, text: item.text, empty: true, virtual: false };
        });

        for(let r=0; r<3; r++) {
            for(let c=0; c<3; c++) {
                const cellData = cells[r][c];
                const cellEl = document.createElement('div');
                cellEl.className = 'cell flex items-center justify-center border border-stone-200 rounded-lg text-2xl font-bold';
                if (cellData.empty) {
                    cellEl.classList.add('empty', 'text-stone-300', 'relative');
                    cellEl.innerHTML = `<span>${cellData.num}</span><div class="tooltip absolute -bottom-14 w-40 p-2 bg-stone-800 text-white text-xs rounded-lg shadow-lg z-10 text-center">${cellData.text}</div>`;
                } else {
                    cellEl.classList.add('bg-amber-100', 'text-amber-800');
                    cellEl.textContent = cellData.num.repeat(cellData.count);
                }
                grid.appendChild(cellEl);
            }
        }
        
        const line = document.createElement('div');
        line.style.cssText = `position: absolute; top: 50%; left: 0; width: 100%; height: 4px; background-color: rgba(22, 163, 74, 0.4); transform-origin: left; transform: rotate(45deg) scaleX(1.414) translateX(20.5%) translateY(-70%);`;
        arrowContainer.appendChild(line);

        document.getElementById('fill-chart-btn').addEventListener('click', function() {
            const emptyGridCells = grid.querySelectorAll('.cell.empty');
            data.birthChart.virtualNumbers.forEach(vNum => {
                emptyGridCells.forEach(cell => {
                    if (cell.querySelector('span').textContent == vNum.num) {
                        cell.classList.remove('empty', 'text-stone-300');
                        cell.classList.add('bg-teal-100', 'text-teal-800', 'virtual-number');
                        cell.querySelector('.tooltip').remove();
                    }
                });
            });
            this.disabled = true;
            this.textContent = 'ƒê√£ B√π ƒê·∫Øp';
            this.classList.add('bg-stone-400', 'cursor-not-allowed');
            document.getElementById('fill-explanation').style.opacity = '1';
        });
    }

    function renderPinnacles() {
        const container = document.getElementById('pinnacles-timeline');
        container.innerHTML = data.pinnacles.map((p, index) => `
            <div class="pinnacle-item relative pl-12 transition-all duration-500 ${p.current ? 'active' : ''}">
                <div class="absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${p.karmic ? 'bg-red-600' : (p.current ? 'bg-amber-500 animate-pulse' : 'bg-stone-700')}">${p.number.split('/')[0]}</div>
                <div class="absolute left-[30px] top-11 h-full w-0.5 bg-stone-200 ${index === data.pinnacles.length - 1 ? 'hidden' : ''}"></div>
                <div class="cursor-pointer" onclick="togglePinnacle(this.parentElement)">
                    <p class="text-sm text-stone-500">${p.age} tu·ªïi ${p.current ? '<span class="text-xs font-semibold bg-amber-100 text-amber-700 px-2 py-1 rounded-full ml-2">HI·ªÜN T·∫†I</span>' : ''}</p>
                    <h4 class="text-xl font-bold text-stone-800">${p.title} ${p.karmic ? '<span class="text-sm font-semibold text-red-600">(N·ª£ Nghi·ªáp)</span>' : ''}</h4>
                </div>
                <div class="pinnacle-content max-h-0 opacity-0 overflow-hidden transition-all duration-500">
                    <p class="text-stone-600">${p.description}</p>
                </div>
            </div>
        `).join('');
        const currentPinnacle = document.querySelector('.pinnacle-item.active');
        if (currentPinnacle) {
            const content = currentPinnacle.querySelector('.pinnacle-content');
            content.style.maxHeight = content.scrollHeight + 'px';
            content.style.opacity = '1';
        }
    }

    function renderGuidance() {
        const tabsContainer = document.getElementById('guidance-tabs');
        tabsContainer.innerHTML = Object.keys(data.guidance).map(key => 
            `<button data-tab="${key}" class="guidance-tab px-4 py-2 font-semibold text-stone-600 border-b-2 border-transparent hover:text-stone-800 transition-colors duration-200 rounded-t-lg">${data.guidance[key].title}</button>`
        ).join('');
        
        const contentContainer = document.getElementById('guidance-content');
        function updateGuidanceContent(tabKey) {
            const tabData = data.guidance[tabKey];
            contentContainer.innerHTML = `<div class="prose max-w-none prose-stone">${tabData.content}</div>`;
        }
        tabsContainer.addEventListener('click', e => {
            if (e.target.matches('.guidance-tab')) {
                tabsContainer.querySelectorAll('.guidance-tab').forEach(t => t.classList.remove('active'));
                e.target.classList.add('active');
                updateGuidanceContent(e.target.dataset.tab);
            }
        });
        tabsContainer.querySelector('.guidance-tab').classList.add('active');
        updateGuidanceContent('personal');
    }
    
    // NAVIGATION LOGIC
    const navLinks = document.querySelectorAll('#nav-menu a');
    const sections = document.querySelectorAll('.content-section');
    function setActiveSection(hash) {
        sections.forEach(section => section.id === hash.substring(1) ? section.classList.add('active') : section.classList.remove('active'));
        navLinks.forEach(link => link.getAttribute('href') === hash ? link.classList.add('active') : link.classList.remove('active'));
    }
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetHash = link.getAttribute('href');
            setActiveSection(targetHash);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });

    // INITIALIZATION
    setActiveSection('#tong-quan');
    renderCoreNumbers();
    renderBirthChart();
    renderPinnacles();
    renderGuidance();
});

// Global scope functions for inline onclick
function togglePinnacle(item) {
    item.classList.toggle('active');
    const content = item.querySelector('.pinnacle-content');
    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        content.style.maxHeight = '0px';
        content.style.opacity = '0';
    } else {
        content.style.maxHeight = content.scrollHeight + 'px';
        content.style.opacity = '1';
    }
}
</script>
</body>
</html>
