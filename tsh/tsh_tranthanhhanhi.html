<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° Th·∫ßn S·ªë H·ªçc: B√© Tr·∫ßn Thanh H·∫° Nhi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: T√¥i ƒë√£ thi·∫øt k·∫ø ·ª©ng d·ª•ng theo c·∫•u tr√∫c dashboard-style v·ªõi thanh ƒëi·ªÅu h∆∞·ªõng b√™n c·∫°nh (chuy·ªÉn l√™n tr√™n ·ªü m√†n h√¨nh nh·ªè) ƒë·ªÉ ng∆∞·ªùi d√πng c√≥ th·ªÉ truy c·∫≠p ngay l·∫≠p t·ª©c v√†o ph·∫ßn h·ªç quan t√¢m. C·∫•u tr√∫c n√†y ph√° v·ª° t√≠nh tuy·∫øn t√≠nh c·ªßa b√°o c√°o g·ªëc, bi·∫øn vi·ªác ƒë·ªçc th√†nh m·ªôt h√†nh tr√¨nh kh√°m ph√° t∆∞∆°ng t√°c. C√°c ph·∫ßn ch√≠nh bao g·ªìm: 1. T·ªïng quan v·ªõi c√°c th·∫ª ch·ªâ s·ªë ch√≠nh. 2. Ph√¢n t√≠ch s√¢u c√°c ch·ªâ s·ªë c·ªët l√µi qua c√°c th·∫ª c√≥ th·ªÉ l·∫≠t m·ªü. 3. Bi·ªÉu ƒë·ªì ng√†y sinh ƒë∆∞·ª£c tr·ª±c quan h√≥a b·∫±ng l∆∞·ªõi v√† bi·ªÉu ƒë·ªì c·ªôt t∆∞∆°ng t√°c. 4. H√†nh tr√¨nh 4 ch·∫∑ng ƒë∆∞·ª£c th·ªÉ hi·ªán qua m·ªôt d√≤ng th·ªùi gian tr·ª±c quan. 5. T·ªïng h·ª£p v√† ƒê·ªãnh h∆∞·ªõng ƒë∆∞·ª£c t·ªï ch·ª©c trong c√°c tab. C·∫•u tr√∫c n√†y ƒë∆∞·ª£c ch·ªçn v√¨ n√≥ gi√∫p chia nh·ªè l∆∞·ª£ng th√¥ng tin l·ªõn, tƒÉng t√≠nh t∆∞∆°ng t√°c v√† gi√∫p ng∆∞·ªùi d√πng (cha m·∫π) d·ªÖ d√†ng ti√™u h√≥a v√† tham chi·∫øu th√¥ng tin theo t·ª´ng ch·ªß ƒë·ªÅ c·ª• th·ªÉ m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t. -->
    <!-- Visualization & Content Choices: 1. C√°c ch·ªâ s·ªë c·ªët l√µi: Th√¥ng tin -> M·ª•c ti√™u: Inform/Compare -> Tr√¨nh b√†y: Th·∫ª th√¥ng s·ªë (stat cards) c√≥ th·ªÉ nh·∫•p ƒë·ªÉ m·ªü r·ªông -> T∆∞∆°ng t√°c: Click -> L√Ω do: Tr√¨nh b√†y th√¥ng tin c·ªët l√µi m·ªôt c√°ch ng·∫Øn g·ªçn, cho ph√©p ng∆∞·ªùi d√πng kh√°m ph√° s√¢u h∆°n khi c·∫ßn, tr√°nh qu√° t·∫£i th√¥ng tin. 2. Ph√¢n b·ªë s·ªë ng√†y sinh: Th√¥ng tin -> M·ª•c ti√™u: Inform -> Tr√¨nh b√†y: Bi·ªÉu ƒë·ªì c·ªôt (Chart.js/Canvas) -> T∆∞∆°ng t√°c: Hover ƒë·ªÉ xem chi ti·∫øt -> L√Ω do: Tr·ª±c quan h√≥a t·∫ßn su·∫•t xu·∫•t hi·ªán c·ªßa c√°c con s·ªë m·ªôt c√°ch r√µ r√†ng. 3. Bi·ªÉu ƒë·ªì Ng√†y sinh & M≈©i t√™n tr·ªëng: Th√¥ng tin -> M·ª•c ti√™u: Organize/Inform -> Tr√¨nh b√†y: L∆∞·ªõi HTML/CSS -> T∆∞∆°ng t√°c: Hover/Click v√†o c√°c m≈©i t√™n tr·ªëng ƒë·ªÉ xem lu·∫≠n gi·∫£i -> L√Ω do: Bi·∫øn m·ªôt kh√°i ni·ªám tr·ª´u t∆∞·ª£ng th√†nh m·ªôt s∆° ƒë·ªì t∆∞∆°ng t√°c, d·ªÖ hi·ªÉu. 4. 4 Ch·∫∑ng ƒë∆∞·ªùng ƒë·ªùi: Th√¥ng tin -> M·ª•c ti√™u: Change -> Tr√¨nh b√†y: D√≤ng th·ªùi gian (timeline) HTML/CSS/JS -> T∆∞∆°ng t√°c: Click v√†o t·ª´ng ch·∫∑ng ƒë·ªÉ ƒë·ªçc ph√¢n t√≠ch -> L√Ω do: Th·ªÉ hi·ªán ti·∫øn tr√¨nh cu·ªôc ƒë·ªùi m·ªôt c√°ch tr·ª±c quan, gi√∫p ng∆∞·ªùi d√πng d·ªÖ theo d√µi c√°c giai ƒëo·∫°n. C√°c l·ª±a ch·ªçn n√†y ƒë·ªÅu tu√¢n th·ªß y√™u c·∫ßu, s·ª≠ d·ª•ng Canvas v√† c√°c y·∫øu t·ªë HTML/CSS/JS ƒë·ªÉ t·∫°o ra tr·∫£i nghi·ªám t∆∞∆°ng t√°c, d·ªÖ hi·ªÉu t·ª´ n·ªôi dung b√°o c√°o. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .nav-item {
            transition: all 0.3s ease;
        }
        .nav-item.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
            transform: scale(1.05);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .pinnacle-item.active .pinnacle-content {
            max-height: 500px;
            opacity: 1;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
    </style>
</head>
<body class="text-slate-700">

    <div class="min-h-screen lg:flex">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="bg-white lg:w-64 w-full p-4 lg:p-6 shadow-lg lg:min-h-screen lg:sticky lg:top-0">
            <div class="text-center mb-8">
                <h1 class="text-2xl font-bold text-indigo-600">Th·∫ßn s·ªë h·ªçc</h1>
                <p class="text-sm text-slate-500">B√© Tr·∫ßn Thanh H·∫° Nhi</p>
            </div>
            <nav id="nav-menu" class="flex lg:flex-col flex-wrap justify-center gap-2">
                <a href="#tong-quan" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold">
                    <span class="text-xl">üîÆ</span> T·ªïng quan
                </a>
                <a href="#chi-so-cot-loi" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold">
                    <span class="text-xl">üîë</span> Ch·ªâ s·ªë C·ªët l√µi
                </a>
                <a href="#bieu-do-ngay-sinh" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold">
                    <span class="text-xl">üî¢</span> Bi·ªÉu ƒë·ªì Ng√†y sinh
                </a>
                <a href="#hanh-trinh-4-chang" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold">
                    <span class="text-xl">üó∫Ô∏è</span> H√†nh tr√¨nh 4 Ch·∫∑ng
                </a>
                <a href="#dinh-huong-phat-trien" class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-indigo-100 font-semibold">
                    <span class="text-xl">üå±</span> ƒê·ªãnh h∆∞·ªõng Ph√°t tri·ªÉn
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 sm:p-6 lg:p-10">
            <!-- Section 1: T·ªïng quan -->
            <section id="tong-quan" class="content-section">
                <div class="text-center p-8 bg-gradient-to-br from-indigo-500 to-violet-500 rounded-2xl shadow-2xl text-white mb-10">
                    <h2 class="text-4xl font-bold mb-2">Tr·∫ßn Thanh H·∫° Nhi</h2>
                    <p class="text-lg opacity-90">Ng√†y sinh: 22/05/2025</p>
                    <div class="mt-6">
                        <p class="text-lg">Con s·ªë ƒê∆∞·ªùng ƒë·ªùi</p>
                        <p class="text-8xl font-bold tracking-tighter">9</p>
                        <p class="mt-2 text-violet-200 max-w-2xl mx-auto">Con ƒë∆∞·ªùng c·ªßa l√≤ng nh√¢n √°i, l√Ω t∆∞·ªüng cao c·∫£ v√† tr√°ch nhi·ªám v·ªõi c·ªông ƒë·ªìng.</p>
                    </div>
                </div>
                
                <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">B·∫£n giao h∆∞·ªüng c√°c con s·ªë</h3>
                 <p class="max-w-3xl mx-auto text-center text-slate-600 mb-10">M·ªói ch·ªâ s·ªë l√† m·ªôt n·ªët nh·∫°c, c√πng nhau t·∫°o n√™n b·∫£n giao h∆∞·ªüng ƒë·ªôc ƒë√°o trong cu·ªôc ƒë·ªùi c·ªßa b√©. Kh√°m ph√° t·ª´ng n·ªët nh·∫°c ƒë·ªÉ th·∫•u hi·ªÉu s√¢u s·∫Øc h∆°n v·ªÅ h√†nh tr√¨nh ph√≠a tr∆∞·ªõc.</p>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Stat Card: S·ª© m·ªánh -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-violet-500">
                        <p class="text-sm text-slate-500 font-semibold">Ch·ªâ s·ªë S·ª© m·ªánh</p>
                        <p class="text-5xl font-bold text-slate-800 mt-2">9</p>
                        <p class="mt-2 text-sm">C·ªëng hi·∫øn cho c·ªông ƒë·ªìng v√† lan t·ªèa gi√° tr·ªã t·ªët ƒë·∫πp.</p>
                    </div>
                    <!-- Stat Card: Linh h·ªìn -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-rose-400">
                        <p class="text-sm text-slate-500 font-semibold">Ch·ªâ s·ªë Linh h·ªìn</p>
                        <p class="text-5xl font-bold text-slate-800 mt-2">3</p>
                        <p class="mt-2 text-sm">Kh√°t v·ªçng th·ªÉ hi·ªán, s√°ng t·∫°o v√† lan t·ªèa ni·ªÅm vui.</p>
                    </div>
                    <!-- Stat Card: Nh√¢n c√°ch -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-teal-400">
                        <p class="text-sm text-slate-500 font-semibold">Ch·ªâ s·ªë Nh√¢n c√°ch</p>
                        <p class="text-5xl font-bold text-slate-800 mt-2">6</p>
                        <p class="mt-2 text-sm">V·∫ª ngo√†i ·∫•m √°p, ƒë√°ng tin c·∫≠y v√† c√≥ tr√°ch nhi·ªám.</p>
                    </div>
                    <!-- Stat Card: Th√°i ƒë·ªô -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-amber-400">
                        <p class="text-sm text-slate-500 font-semibold">Ch·ªâ s·ªë Th√°i ƒë·ªô</p>
                        <p class="text-5xl font-bold text-slate-800 mt-2">9</p>
                        <p class="mt-2 text-sm">C√°i nh√¨n s√¢u s·∫Øc, bao dung v√† ƒë·∫ßy l√≤ng tr·∫Øc ·∫©n.</p>
                    </div>
                </div>
            </section>
            
            <!-- Section 2: Ch·ªâ s·ªë C·ªët l√µi -->
            <section id="chi-so-cot-loi" class="content-section space-y-8">
                <h2 class="text-3xl font-bold text-slate-800 text-center mb-2">Gi·∫£i m√£ c√°c Ch·ªâ s·ªë C·ªët l√µi</h2>
                <p class="max-w-3xl mx-auto text-center text-slate-600 mb-10">Nh·∫•p v√†o t·ª´ng ch·ªâ s·ªë ƒë·ªÉ kh√°m ph√° s√¢u h∆°n v·ªÅ nh·ªØng nƒÉng l∆∞·ª£ng ƒë·ªãnh h√¨nh n√™n t√≠nh c√°ch v√† con ƒë∆∞·ªùng ph√°t tri·ªÉn c·ªßa b√©.</p>

                <div id="core-numbers-container" class="space-y-6"></div>
            </section>

            <!-- Section 3: Bi·ªÉu ƒë·ªì Ng√†y sinh -->
            <section id="bieu-do-ngay-sinh" class="content-section">
                <h2 class="text-3xl font-bold text-slate-800 text-center mb-2">Bi·ªÉu ƒë·ªì Ng√†y sinh: 22/05/2025</h2>
                <p class="max-w-3xl mx-auto text-center text-slate-600 mb-10">Bi·ªÉu ƒë·ªì ng√†y sinh l√† b·∫£n ƒë·ªì nƒÉng l∆∞·ª£ng b·∫©m sinh, cho th·∫•y nh·ªØng ƒëi·ªÉm m·∫°nh v√† nh·ªØng lƒ©nh v·ª±c c·∫ßn n·ªó l·ª±c r√®n luy·ªán ƒë·ªÉ b√© ph√°t tri·ªÉn m·ªôt c√°ch c√¢n b·∫±ng v√† to√†n di·ªán.</p>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">
                    <div>
                        <h3 class="font-bold text-xl mb-4 text-center text-slate-800">Ph√¢n b·ªë NƒÉng l∆∞·ª£ng B·∫©m sinh</h3>
                        <div class="bg-white p-6 rounded-xl shadow-lg">
                             <div class="chart-container relative h-80 md:h-96 w-full max-w-md mx-auto">
                                <canvas id="birthChartDistribution"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col items-center">
                        <h3 class="font-bold text-xl mb-4 text-center text-slate-800">L∆∞·ªõi NƒÉng l∆∞·ª£ng & M≈©i t√™n tr·ªëng</h3>
                        <div class="grid grid-cols-3 gap-2 w-64 h-64 shadow-2xl bg-white p-4 rounded-2xl">
                            <!-- Row 3-6-9 -->
                            <div class="cell bg-slate-100 text-slate-400">3</div>
                            <div class="cell bg-slate-100 text-slate-400">6</div>
                            <div class="cell bg-slate-100 text-slate-400">9</div>
                            <!-- Row 2-5-8 -->
                            <div class="cell bg-emerald-100 text-emerald-700 font-bold border-2 border-emerald-300">222</div>
                            <div class="cell bg-sky-100 text-sky-700 font-bold border-2 border-sky-300">55</div>
                            <div class="cell bg-slate-100 text-slate-400">8</div>
                            <!-- Row 1-4-7 -->
                            <div class="cell bg-slate-100 text-slate-400">1</div>
                            <div class="cell bg-slate-100 text-slate-400">4</div>
                            <div class="cell bg-slate-100 text-slate-400">7</div>
                        </div>
                    </div>
                </div>

                <div id="empty-arrows-section" class="mt-12 bg-white p-6 rounded-xl shadow-lg">
                     <h3 class="text-xl font-bold text-slate-800 mb-6 text-center">C√°c M≈©i t√™n Tr·ªëng: B√†i h·ªçc c·∫ßn R√®n luy·ªán</h3>
                     <p class="text-center text-slate-600 mb-6">ƒê√¢y l√† nh·ªØng lƒ©nh v·ª±c b√© c·∫ßn s·ª± h·ªó tr·ª£ v√† ƒë·ªãnh h∆∞·ªõng t·ª´ gia ƒë√¨nh ƒë·ªÉ ph√°t tri·ªÉn v√† ho√†n thi·ªán b·∫£n th√¢n. Nh·∫•p v√†o t·ª´ng m≈©i t√™n ƒë·ªÉ xem lu·∫≠n gi·∫£i chi ti·∫øt.</p>
                    <div id="empty-arrows-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                </div>

            </section>

            <!-- Section 4: H√†nh tr√¨nh 4 Ch·∫∑ng -->
            <section id="hanh-trinh-4-chang" class="content-section">
                <h2 class="text-3xl font-bold text-slate-800 text-center mb-2">H√†nh tr√¨nh 4 Ch·∫∑ng ƒë∆∞·ªùng ƒë·ªùi</h2>
                <p class="max-w-3xl mx-auto text-center text-slate-600 mb-12">Cu·ªôc ƒë·ªùi ƒë∆∞·ª£c chia th√†nh 4 giai ƒëo·∫°n ch√≠nh, m·ªói giai ƒëo·∫°n mang m·ªôt b√†i h·ªçc v√† c∆° h·ªôi ri√™ng. ƒê√¢y l√† t·∫•m b·∫£n ƒë·ªì gi√∫p ƒë·ªãnh h∆∞·ªõng v√† chu·∫©n b·ªã cho t∆∞∆°ng lai c·ªßa b√©.</p>
                <div id="pinnacles-timeline" class="space-y-4"></div>
            </section>
            
            <!-- Section 5: ƒê·ªãnh h∆∞·ªõng Ph√°t tri·ªÉn -->
            <section id="dinh-huong-phat-trien" class="content-section">
                <h2 class="text-3xl font-bold text-slate-800 text-center mb-10">T·ªïng h·ª£p & ƒê·ªãnh h∆∞·ªõng Ph√°t tri·ªÉn To√†n di·ªán</h2>
                <div class="max-w-4xl mx-auto">
                    <div id="guidance-tabs" class="flex justify-center border-b border-slate-200 mb-6 flex-wrap">
                        <button data-tab="potentials" class="guidance-tab active px-6 py-3 font-semibold text-slate-500 border-b-2 border-transparent hover:text-indigo-600">Ti·ªÅm nƒÉng & S·ª± nghi·ªáp</button>
                        <button data-tab="challenges" class="guidance-tab px-6 py-3 font-semibold text-slate-500 border-b-2 border-transparent hover:text-indigo-600">Th√°ch th·ª©c & Gi·∫£i ph√°p</button>
                        <button data-tab="advice" class="guidance-tab px-6 py-3 font-semibold text-slate-500 border-b-2 border-transparent hover:text-indigo-600">L·ªùi khuy√™n cho Cha m·∫π</button>
                    </div>
                    <div id="guidance-content" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg">
                        <!-- Content will be injected by JS -->
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const data = {
        coreNumbers: [
            {
                number: 9,
                title: 'Ch·ªâ s·ªë ƒê∆∞·ªùng ƒë·ªùi',
                subtitle: 'S·ª© Gi·∫£ C·ªßa L√≤ng Nh√¢n √Åi V√† L√Ω T∆∞·ªüng Cao ƒê·∫πp',
                description: 'Con s·ªë 9 l√† bi·ªÉu t∆∞·ª£ng c·ªßa l√≤ng nh√¢n √°i, v·ªã tha v√† tr√°ch nhi·ªám v·ªõi c·ªông ƒë·ªìng. B√© c√≥ ti·ªÅm nƒÉng s·ªü h·ªØu tr√°i tim ·∫•m √°p, gi√†u l√≤ng tr·∫Øc ·∫©n v√† c√≥ kh√°t khao t·∫°o ra ·∫£nh h∆∞·ªüng t√≠ch c·ª±c. ƒê√¢y l√† con ƒë∆∞·ªùng c·ªßa m·ªôt nh√† l√£nh ƒë·∫°o truy·ªÅn c·∫£m h·ª©ng b·∫±ng ch√≠nh s·ª± t·ª≠ t·∫ø v√† t·∫ßm nh√¨n c·ªßa m√¨nh.',
                strengths: ['L√≤ng nh√¢n √°i b·∫©m sinh', 'L√Ω t∆∞·ªüng cao c·∫£', 'Tr√≠ tu·ªá s√¢u s·∫Øc', 'Ti·ªÅm nƒÉng l√£nh ƒë·∫°o'],
                challenges: ['D·ªÖ b·ªã c·∫£m x√∫c chi ph·ªëi', 'Kh√≥ c√¢n b·∫±ng cho-nh·∫≠n', 'K·ª≥ v·ªçng qu√° cao']
            },
            {
                number: 9,
                title: 'Ch·ªâ s·ªë S·ª© m·ªánh',
                subtitle: 'C·ªëng Hi·∫øn Cho C·ªông ƒê·ªìng V√† Lan T·ªèa Gi√° Tr·ªã T·ªët ƒê·∫πp',
                description: 'S·ª© m·ªánh c·ªßa b√© g·∫Øn li·ªÅn v·ªõi vi·ªác ph·ª•c v·ª• nh√¢n lo·∫°i, c·ªëng hi·∫øn cho nh·ªØng l√Ω t∆∞·ªüng cao c·∫£. B√© ƒë∆∞·ª£c th√¥i th√∫c ƒë·ªÉ tr·ªü th√†nh ng∆∞·ªùi c√≥ l√≤ng tr·∫Øc ·∫©n s√¢u s·∫Øc, s·ª± bao dung v√† tinh th·∫ßn s·∫µn s√†ng cho ƒëi. S·ª© m·ªánh n√†y c√≥ th·ªÉ li√™n quan ƒë·∫øn c√°c lƒ©nh v·ª±c nh∆∞ ch·ªØa l√†nh, gi√°o d·ª•c, ho·∫°t ƒë·ªông nh√¢n ƒë·∫°o.',
                strengths: ['ƒê·ªông l·ª±c c·ªëng hi·∫øn m·∫°nh m·∫Ω', 'T·∫ßm nh√¨n bao qu√°t', 'Kh·∫£ nƒÉng h√≤a gi·∫£i', 'Mang l·∫°i hy v·ªçng'],
                challenges: ['H·ªçc c√°ch cho ƒëi m√† kh√¥ng ki·ªát s·ª©c', 'C·∫ßn ch·ªØa l√†nh b·∫£n th√¢n tr∆∞·ªõc', '√Åp l·ª±c t·ª´ tr√°ch nhi·ªám l·ªõn']
            },
            {
                number: 3,
                title: 'Ch·ªâ s·ªë Linh h·ªìn',
                subtitle: 'Kh√°t V·ªçng Th·ªÉ Hi·ªán, S√°ng T·∫°o V√† Ni·ªÅm Vui',
                description: 'S√¢u th·∫≥m b√™n trong, b√© khao kh√°t ƒë∆∞·ª£c th·ªÉ hi·ªán b·∫£n th√¢n, s√°ng t·∫°o v√† k·∫øt n·ªëi v·ªõi m·ªçi ng∆∞·ªùi. B√© c√≥ m·ªôt t√¢m h·ªìn ngh·ªá sƒ©, y√™u c√°i ƒë·∫πp, s·ª± h√†i h∆∞·ªõc v√† l·∫°c quan. Ni·ªÅm vui v√† s·ª± bay b·ªïng c·ªßa Linh h·ªìn 3 s·∫Ω gi√∫p b√© th·ª±c hi·ªán nh·ªØng l√Ω t∆∞·ªüng l·ªõn lao c·ªßa s·ªë 9 m·ªôt c√°ch nh·∫π nh√†ng h∆°n.',
                strengths: ['T√¢m h·ªìn ngh·ªá sƒ©', 'Y√™u th√≠ch giao ti·∫øp', 'L·∫°c quan, vui v·∫ª', 'NƒÉng l∆∞·ª£ng s√°ng t·∫°o'],
                challenges: ['C·∫ßn ƒë∆∞·ª£c t·ª± do bi·ªÉu ƒë·∫°t', 'D·ªÖ bu·ªìn ch√°n n·∫øu b·ªã g√≤ b√≥', 'C·∫ßn ƒë∆∞·ª£c c√¥ng nh·∫≠n']
            },
            {
                number: 6,
                title: 'Ch·ªâ s·ªë Nh√¢n c√°ch',
                subtitle: 'V·∫ª Ngo√†i ·∫§m √Åp, Tr√°ch Nhi·ªám V√† Chu ƒê√°o',
                description: 'B√© t·∫°o ·∫•n t∆∞·ª£ng ban ƒë·∫ßu l√† m·ªôt ng∆∞·ªùi r·∫•t ·∫•m √°p, ƒë√°ng tin c·∫≠y, c√≥ tr√°ch nhi·ªám v√† lu√¥n quan t√¢m ƒë·∫øn ng∆∞·ªùi kh√°c. V·∫ª ngo√†i n√†y gi√∫p b√© d·ªÖ d√†ng k·∫øt n·ªëi, t·∫°o thi·ªán c·∫£m v√† nh·∫≠n ƒë∆∞·ª£c s·ª± ·ªßng h·ªô t·ª´ m·ªçi ng∆∞·ªùi trong h√†nh tr√¨nh th·ª±c hi·ªán nh·ªØng m·ª•c ti√™u cao c·∫£ c·ªßa m√¨nh.',
                strengths: ['ƒê√°ng tin c·∫≠y, chu ƒë√°o', 'T·∫°o s·ª± h√†i h√≤a', 'C√≥ gu th·∫©m m·ªπ', 'G·∫Øn b√≥ v·ªõi gia ƒë√¨nh'],
                challenges: ['C√≥ xu h∆∞·ªõng qu√° bao b·ªçc', 'Lo l·∫Øng th√°i qu√°', 'Mu·ªën ki·ªÉm so√°t ƒë·ªÉ m·ªçi th·ª© ·ªïn th·ªèa']
            },
             {
                number: 9,
                title: 'Ch·ªâ s·ªë Th√°i ƒë·ªô',
                subtitle: 'C√°i Nh√¨n S√¢u S·∫Øc V√† T∆∞ Duy S√°ng T·∫°o',
                description: 'Khi ƒë·ªëi m·∫∑t v·ªõi c√°c t√¨nh hu·ªëng, ph·∫£n ·ª©ng t·ª± nhi√™n c·ªßa b√© l√† c√°i nh√¨n bao dung, s√¢u s·∫Øc v√† ƒë·∫ßy l√≤ng tr·∫Øc ·∫©n. B√© c√≥ kh·∫£ nƒÉng nh√¨n nh·∫≠n v·∫•n ƒë·ªÅ t·ª´ nhi·ªÅu kh√≠a c·∫°nh, kh√¥ng v·ªôi v√†ng ph√°n x√©t m√† c·ªë g·∫Øng th·∫•u hi·ªÉu. S·ª± nh·∫•t qu√°n gi·ªØa Th√°i ƒë·ªô 9 v√† ƒê∆∞·ªùng ƒë·ªùi 9 t·∫°o n√™n m·ªôt con ng∆∞·ªùi ch√¢n th·∫≠t, ƒë√°ng tin c·∫≠y.',
                strengths: ['Bao dung, kh√¥ng ph√°n x√©t', 'T√¨m ki·∫øm gi·∫£i ph√°p h√≤a gi·∫£i', 'Tr∆∞·ªüng th√†nh trong suy nghƒ©', 'Tr·ª±c gi√°c m·∫°nh'],
                challenges: ['D·ªÖ t·ªïn th∆∞∆°ng n·∫øu m√¥i tr∆∞·ªùng kh√¥ng ·ªßng h·ªô', 'Kh√≥ "gi·∫£ v·ªù" m·ªôt th√°i ƒë·ªô kh√°c']
            },
        ],
        birthChart: {
            numbersPresent: [
                { number: 2, count: 3, description: 'Ba s·ªë 2 (222) cho th·∫•y m·ª©c ƒë·ªô nh·∫°y c·∫£m v√† tr·ª±c gi√°c c·ª±c k·ª≥ cao. B√© c√≥ kh·∫£ nƒÉng th·∫•u c·∫£m s√¢u s·∫Øc nh∆∞ng c≈©ng r·∫•t d·ªÖ b·ªã t·ªïn th∆∞∆°ng b·ªüi t√°c ƒë·ªông b√™n ngo√†i.' },
                { number: 5, count: 2, description: 'Hai s·ªë 5 (55) th·ªÉ hi·ªán m·ªôt t√¨nh y√™u t·ª± do v√¥ c√πng m·∫°nh m·∫Ω, kh√°t khao kh√°m ph√° v√† tr·∫£i nghi·ªám. Tuy nhi√™n, ƒëi·ªÅu n√†y c≈©ng c√≥ th·ªÉ d·∫´n ƒë·∫øn s·ª± thi·∫øu ki√™n ƒë·ªãnh.' }
            ],
            emptyArrows: [
                { name: 'M≈©i t√™n 1-4-7', title: 'Thi·∫øu Th·ª±c t·∫ø', description: 'Do thi·∫øu v·∫Øng to√†n b·ªô Tr·ª•c Th·ªÉ ch·∫•t, b√© c√≥ th·ªÉ g·∫∑p kh√≥ khƒÉn trong vi·ªác t·ªï ch·ª©c, thi·∫øu t√≠nh th·ª±c t·∫ø v√† ki√™n nh·∫´n. C·∫ßn r√®n luy·ªán t√≠nh k·ª∑ lu·∫≠t v√† kh·∫£ nƒÉng t·∫≠p trung v√†o m·ª•c ti√™u c·ª• th·ªÉ.' },
                { name: 'M≈©i t√™n 3-6-9', title: 'Thi·∫øu S√°ng t·∫°o Tr√≠ tu·ªá', description: 'S·ª± thi·∫øu v·∫Øng Tr·ª•c Tr√≠ n√£o cho th·∫•y b√© c·∫ßn ƒë∆∞·ª£c k√≠ch ho·∫°t v√† r√®n luy·ªán nhi·ªÅu h∆°n ·ªü kh√≠a c·∫°nh t∆∞ duy logic, ph√¢n t√≠ch v√† bi·ªÉu ƒë·∫°t √Ω t∆∞·ªüng m·ªôt c√°ch c·ª• th·ªÉ.' },
                { name: 'M≈©i t√™n 7-8-9', title: 'Thi·∫øu H√†nh ƒë·ªông (Th·ª• ƒë·ªông)', description: 'ƒê√¢y l√† m·ªôt th√°ch th·ª©c l·ªõn. B√© c√≥ th·ªÉ c√≥ xu h∆∞·ªõng th·ª• ƒë·ªông, tr√¨ ho√£n v√† thi·∫øu ƒë·ªông l·ª±c ƒë·ªÉ bi·∫øn √Ω t∆∞·ªüng th√†nh h√†nh ƒë·ªông. C·∫ßn s·ª± kh√≠ch l·ªá li√™n t·ª•c ƒë·ªÉ b√© m·∫°nh d·∫°n h∆°n.' },
                { name: 'M≈©i t√™n 1-2-3', title: 'Thi·∫øu K·∫ø ho·∫°ch', description: 'B√© c√≥ th·ªÉ kh√¥ng gi·ªèi trong vi·ªác l·∫≠p k·∫ø ho·∫°ch chi ti·∫øt v√† d√†i h·∫°n. C·∫ßn d·∫°y b√© k·ªπ nƒÉng s·∫Øp x·∫øp c√¥ng vi·ªác v√† suy nghƒ© tr∆∞·ªõc khi h√†nh ƒë·ªông.' },
                { name: 'M≈©i t√™n 4-5-6', title: 'Thi·∫øu √ù ch√≠', description: 'B√© c√≥ th·ªÉ thi·∫øu s·ª± ki√™n ƒë·ªãnh, d·ªÖ thay ƒë·ªïi m·ª•c ti√™u ho·∫∑c nhanh b·ªè cu·ªôc khi g·∫∑p kh√≥ khƒÉn. C·∫ßn r√®n luy·ªán t√≠nh ki√™n tr√¨, nh·∫´n n·∫°i.' },
                { name: 'M≈©i t√™n 2-5-8', title: 'Nh·∫°y c·∫£m / D·ªÖ t·ªïn th∆∞∆°ng', description: 'S·ª± thi·∫øu v·∫Øng s·ªë 8 c√†ng nh·∫•n m·∫°nh m·ª©c ƒë·ªô nh·∫°y c·∫£m cao c·ªßa b√©. C·∫ßn gi√∫p b√© x√¢y d·ª±ng s·ª± t·ª± tin v√† v·ªØng v√†ng h∆°n v·ªÅ m·∫∑t tinh th·∫ßn.' },
            ]
        },
        pinnacles: [
            { number: '9', age: '0 - 27', title: 'Gieo m·∫ßm L√Ω t∆∞·ªüng & L√≤ng nh√¢n √°i', description: 'Giai ƒëo·∫°n quan tr·ªçng ƒë·ªÉ h√¨nh th√†nh nh√¢n c√°ch, h·ªçc v·ªÅ l√≤ng v·ªã tha, tr√°ch nhi·ªám v√† theo ƒëu·ªïi l√Ω t∆∞·ªüng. B√© c·∫ßn x√¢y d·ª±ng n·ªÅn t·∫£ng ƒë·∫°o ƒë·ª©c v·ªØng ch·∫Øc v√† h·ªçc c√°ch c√¢n b·∫±ng gi·ªØa vi·ªác cho ƒëi v√† chƒÉm s√≥c b·∫£n th√¢n.' },
            { number: '13/4', age: '28 - 36', title: 'X√¢y d·ª±ng n·ªÅn t·∫£ng & B√†i h·ªçc ChƒÉm ch·ªâ', karmic: true, description: 'Giai ƒëo·∫°n t·∫≠p trung x√¢y d·ª±ng s·ª± ·ªïn ƒë·ªãnh, ƒë√≤i h·ªèi s·ª± chƒÉm ch·ªâ, k·ª∑ lu·∫≠t cao. N·ª£ nghi·ªáp 13/4 mang ƒë·∫øn th·ª≠ th√°ch ƒë√≤i h·ªèi n·ªó l·ª±c v∆∞·ª£t b·∫≠c ƒë·ªÉ v∆∞·ª£t qua xu h∆∞·ªõng l∆∞·ªùi bi·∫øng ho·∫∑c thi·∫øu tr√°ch nhi·ªám t·ª´ ti·ªÅn ki·∫øp.' },
            { number: '13/4', age: '37 - 45', title: 'C·ªßng c·ªë th√†nh qu·∫£ & Tr√°ch nhi·ªám', karmic: true, description: 'Ti·∫øp t·ª•c b√†i h·ªçc v·ªÅ s·ª± chƒÉm ch·ªâ v√† tr√°ch nhi·ªám ·ªü m·ª©c ƒë·ªô s√¢u s·∫Øc h∆°n. ƒê√¢y l√† c∆° h·ªôi ƒë·ªÉ c·ªßng c·ªë th√†nh t·ª±u v√† ƒë·∫°t ƒë∆∞·ª£c s·ª± ·ªïn ƒë·ªãnh b·ªÅn v·ªØng. S·ª± n·ªó l·ª±c b·ªÅn b·ªâ s·∫Ω mang l·∫°i ph·∫ßn th∆∞·ªüng x·ª©ng ƒë√°ng.' },
            { number: '14/5', age: '46+', title: 'Kh√°m ph√° T·ª± do & B√†i h·ªçc C√¢n b·∫±ng', karmic: true, description: 'Giai ƒëo·∫°n c·ªßa s·ª± thay ƒë·ªïi, kh√°m ph√° v√† m·ªü r·ªông tr·∫£i nghi·ªám. N·ª£ nghi·ªáp 14/5 l√† b√†i h·ªçc v·ªÅ vi·ªác s·ª≠ d·ª•ng t·ª± do m·ªôt c√°ch c√≥ √Ω th·ª©c, tr√°ch nhi·ªám, tr√°nh l·∫°m d·ª•ng v√† h·ªçc c√°ch cam k·∫øt.' }
        ],
        guidance: {
            potentials: {
                title: 'Ti·ªÅm nƒÉng V∆∞·ª£t tr·ªôi v√† ƒê·ªãnh h∆∞·ªõng S·ª± nghi·ªáp',
                content: `
                    <p class="mb-4">V·ªõi s·ª± k·∫øt h·ª£p ƒë·ªôc ƒë√°o c·ªßa c√°c nƒÉng l∆∞·ª£ng ch·ªß ƒë·∫°o, b√© Nhi c√≥ ti·ªÅm nƒÉng ph√°t tri·ªÉn v∆∞·ª£t tr·ªôi trong nhi·ªÅu lƒ©nh v·ª±c mang t√≠nh nh√¢n vƒÉn, s√°ng t·∫°o v√† c·ªëng hi·∫øn cho c·ªông ƒë·ªìng:</p>
                    <ul class="list-disc list-inside space-y-2 text-slate-600">
                        <li><strong>Nh√¢n vƒÉn & X√£ h·ªôi:</strong> Nh√† ho·∫°t ƒë·ªông x√£ h·ªôi, c·ªë v·∫•n t√¢m l√Ω, nh√† t·ª´ thi·ªán, nh√† ngo·∫°i giao.</li>
                        <li><strong>Gi√°o d·ª•c & Truy·ªÅn c·∫£m h·ª©ng:</strong> Gi√°o vi√™n, gi·∫£ng vi√™n xu·∫•t s·∫Øc, di·ªÖn gi·∫£ c√≥ s·ª©c lay ƒë·ªông l√≤ng ng∆∞·ªùi.</li>
                        <li><strong>Ngh·ªá thu·∫≠t & S√°ng t·∫°o:</strong> Nh√† vƒÉn, nh·∫°c sƒ©, h·ªça sƒ©, di·ªÖn vi√™n - d√πng t√†i nƒÉng ƒë·ªÉ truy·ªÅn t·∫£i th√¥ng ƒëi·ªáp nh√¢n vƒÉn.</li>
                        <li><strong>L√£nh ƒë·∫°o:</strong> Nh√† l√£nh ƒë·∫°o trong c√°c t·ªï ch·ª©c phi l·ª£i nhu·∫≠n, d·ª± √°n c·ªông ƒë·ªìng, n∆°i c·∫ßn t·∫ßm nh√¨n v√† l√≤ng tr·∫Øc ·∫©n.</li>
                        <li><strong>ChƒÉm s√≥c & Ch·ªØa l√†nh:</strong> C√°c ng√†nh ngh·ªÅ li√™n quan ƒë·∫øn y t·∫ø, tr·ªã li·ªáu, chƒÉm s√≥c s·ª©c kh·ªèe c·ªông ƒë·ªìng.</li>
                    </ul>
                `
            },
            challenges: {
                title: 'Th√°ch th·ª©c Ch√≠nh v√† Gi·∫£i ph√°p H·ªó tr·ª£',
                content: `
                    <p class="mb-4">B√™n c·∫°nh ti·ªÅm nƒÉng to l·ªõn, b√© c≈©ng ƒë·ªëi m·∫∑t v·ªõi nh·ªØng th√°ch th·ª©c c·∫ßn ƒë∆∞·ª£c nh·∫≠n di·ªán v√† h·ªó tr·ª£ k·ªãp th·ªùi:</p>
                    <ul class="list-disc list-inside space-y-3 text-slate-600">
                        <li><strong>V∆∞·ª£t qua s·ª± th·ª• ƒë·ªông (Nhi·ªÅu m≈©i t√™n tr·ªëng):</strong> ƒê√¢y l√† th√°ch th·ª©c l·ªõn nh·∫•t. C·∫ßn khuy·∫øn kh√≠ch t√≠nh t·ª± l·∫≠p, ch·ªß ƒë·ªông, tham gia c√°c ho·∫°t ƒë·ªông th·ªÉ ch·∫•t v√† tr·∫£i nghi·ªám th·ª±c t·∫ø ƒë·ªÉ tƒÉng c∆∞·ªùng s·ª± m·∫°nh d·∫°n h√†nh ƒë·ªông.</li>
                        <li><strong>ƒê·ªëi m·∫∑t N·ª£ nghi·ªáp (13/4 & 14/5):</strong> C·∫ßn d·∫°y b√© v·ªÅ gi√° tr·ªã c·ªßa lao ƒë·ªông chƒÉm ch·ªâ, t√≠nh k·ª∑ lu·∫≠t, v√† s·ª± cam k·∫øt ngay t·ª´ nh·ªè. Gi√∫p b√© hi·ªÉu th·ª≠ th√°ch l√† c∆° h·ªôi ƒë·ªÉ tr∆∞·ªüng th√†nh.</li>
                        <li><strong>C√¢n b·∫±ng c·∫£m x√∫c & s·ª± nh·∫°y c·∫£m:</strong> V·ªõi s·ª± nh·∫°y c·∫£m cao, b√© c·∫ßn h·ªçc c√°ch nh·∫≠n di·ªán, qu·∫£n l√Ω c·∫£m x√∫c m·ªôt c√°ch l√†nh m·∫°nh. Gia ƒë√¨nh c·∫ßn t·∫°o kh√¥ng gian an to√†n ƒë·ªÉ b√© th·ªÉ hi·ªán c·∫£m x√∫c m√† kh√¥ng b·ªã ph√°n x√©t.</li>
                    </ul>
                `
            },
            advice: {
                title: 'L·ªùi khuy√™n cho Cha m·∫π',
                content: `
                    <p class="mb-4">Vai tr√≤ c·ªßa gia ƒë√¨nh l√† v√¥ c√πng quan tr·ªçng trong vi·ªác gi√∫p b√© ph√°t huy t·ªëi ƒëa ti·ªÅm nƒÉng v√† v∆∞·ª£t qua th√°ch th·ª©c. M·ªôt m√¥i tr∆∞·ªùng ph√°t tri·ªÉn l√Ω t∆∞·ªüng c·∫ßn:</p>
                    <ul class="list-disc list-inside space-y-3 text-slate-600">
                        <li><strong>Gi√†u t√¨nh y√™u th∆∞∆°ng v√† s·ª± kh√≠ch l·ªá:</strong> ƒê√¢y l√† n·ªÅn t·∫£ng quan tr·ªçng nh·∫•t, gi√∫p b√© c·∫£m th·∫•y an to√†n v√† t·ª± tin.</li>
                        <li><strong>Khuy·∫øn kh√≠ch s√°ng t·∫°o & t·ª± do bi·ªÉu ƒë·∫°t:</strong> Cho b√© ti·∫øp x√∫c v·ªõi ngh·ªá thu·∫≠t, √¢m nh·∫°c, cho ph√©p b√© t·ª± do th·ªÉ hi·ªán √Ω t∆∞·ªüng, c·∫£m x√∫c.</li>
                        <li><strong>ƒê·ªÅ cao c√°c gi√° tr·ªã nh√¢n vƒÉn:</strong> S·ªëng v√† l√†m g∆∞∆°ng cho b√© v·ªÅ s·ª± s·∫ª chia, gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c, quan t√¢m ƒë·∫øn c√°c v·∫•n ƒë·ªÅ x√£ h·ªôi.</li>
                        <li><strong>R√®n luy·ªán k·ª∑ lu·∫≠t v√† ki√™n tr√¨:</strong> Th·ª±c hi·ªán m·ªôt c√°ch nh·∫•t qu√°n nh∆∞ng m·ªÅm d·∫ªo, kh√¥ng √°p ƒë·∫∑t, gi√∫p b√© h√¨nh th√†nh th√≥i quen t·ªët.</li>
                        <li><strong>T·∫°o ƒëi·ªÅu ki·ªán cho ho·∫°t ƒë·ªông ngo·∫°i kh√≥a ƒëa d·∫°ng:</strong> Gi√∫p b√© kh√°m ph√° th√™m ti·ªÅm nƒÉng, ph√°t tri·ªÉn c√°c k·ªπ nƒÉng c√≤n thi·∫øu v√† m·ªü r·ªông quan h·ªá x√£ h·ªôi.</li>
                    </ul>
                `
            }
        }
    };
    
    // --- RENDER FUNCTIONS ---

    function renderCoreNumbers() {
        const container = document.getElementById('core-numbers-container');
        container.innerHTML = data.coreNumbers.map((item, index) => `
            <div class="core-number-card bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-500">
                <button class="w-full text-left p-6 flex items-center gap-6" onclick="toggleCard(this)">
                    <div class="flex-shrink-0 w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-4xl font-bold">${item.number}</div>
                    <div class="flex-1">
                        <h3 class="text-xl font-bold text-slate-800">${item.title}</h3>
                        <p class="text-slate-500">${item.subtitle}</p>
                    </div>
                     <div class="transform transition-transform duration-300 text-indigo-500 text-2xl">‚ûî</div>
                </button>
                <div class="card-content max-h-0 opacity-0 overflow-hidden transition-all duration-500 px-6">
                    <p class="text-slate-600 mb-4">${item.description}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 pb-6">
                        <div>
                            <h4 class="font-semibold text-green-600 mb-2">ƒêi·ªÉm m·∫°nh:</h4>
                            <ul class="list-disc list-inside text-sm space-y-1">${item.strengths.map(s => `<li>${s}</li>`).join('')}</ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-red-600 mb-2">Th√°ch th·ª©c:</h4>
                            <ul class="list-disc list-inside text-sm space-y-1">${item.challenges.map(c => `<li>${c}</li>`).join('')}</ul>
                        </div>
                    </div>
                </div>
            </div>
        `).join('');
    }

    function renderBirthChart() {
        const ctx = document.getElementById('birthChartDistribution').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: data.birthChart.numbersPresent.map(item => `S·ªë ${item.number}`),
                datasets: [{
                    label: 'S·ªë l·∫ßn xu·∫•t hi·ªán',
                    data: data.birthChart.numbersPresent.map(item => item.count),
                    backgroundColor: [
                        'rgba(165, 180, 252, 0.6)', // indigo-300
                        'rgba(125, 211, 252, 0.6)', // sky-300
                    ],
                    borderColor: [
                        'rgba(99, 102, 241, 1)', // indigo-500
                        'rgba(56, 189, 248, 1)', // sky-500
                    ],
                    borderWidth: 2,
                    borderRadius: 8,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            afterBody: function(context) {
                                const index = context[0].dataIndex;
                                return data.birthChart.numbersPresent[index].description;
                            }
                        },
                        bodyFont: { size: 12 },
                        padding: 10,
                        boxPadding: 4,
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                           stepSize: 1
                        }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        const emptyArrowsContainer = document.getElementById('empty-arrows-container');
        emptyArrowsContainer.innerHTML = data.birthChart.emptyArrows.map(arrow => `
            <div class="arrow-card p-4 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 hover:shadow-md transition-all" onclick="showArrowDetails(this)">
                <h4 class="font-bold text-slate-700">${arrow.name}</h4>
                <p class="text-sm text-red-500">${arrow.title}</p>
                <div class="arrow-details hidden mt-2 text-sm text-slate-600">
                    ${arrow.description}
                </div>
            </div>
        `).join('');
    }

    function renderPinnacles() {
        const container = document.getElementById('pinnacles-timeline');
        container.innerHTML = data.pinnacles.map((pinnacle, index) => `
            <div class="pinnacle-item relative pl-12 transition-all duration-500">
                <div class="absolute left-4 top-2 w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${pinnacle.karmic ? 'bg-red-500' : 'bg-indigo-500'}">${pinnacle.number}</div>
                <div class="absolute left-[30px] top-11 h-full w-0.5 bg-slate-200 ${index === data.pinnacles.length - 1 ? 'hidden' : ''}"></div>
                <div class="cursor-pointer" onclick="togglePinnacle(this.parentElement)">
                    <p class="text-sm text-slate-500">${pinnacle.age} tu·ªïi</p>
                    <h4 class="text-xl font-bold text-slate-800">${pinnacle.title} ${pinnacle.karmic ? '<span class="text-xs font-semibold bg-red-100 text-red-700 px-2 py-1 rounded-full ml-2">N·ª£ Nghi·ªáp</span>' : ''}</h4>
                </div>
                <div class="pinnacle-content max-h-0 opacity-0 overflow-hidden transition-all duration-500">
                    <p class="text-slate-600">${pinnacle.description}</p>
                </div>
            </div>
        `).join('');
    }

    function renderGuidance(tab) {
        const contentContainer = document.getElementById('guidance-content');
        const tabData = data.guidance[tab];
        contentContainer.innerHTML = `
            <h3 class="text-2xl font-bold text-slate-800 mb-4">${tabData.title}</h3>
            <div class="prose max-w-none prose-slate">${tabData.content}</div>
        `;
    }

    // --- EVENT LISTENERS & LOGIC ---

    const navLinks = document.querySelectorAll('#nav-menu a');
    const sections = document.querySelectorAll('.content-section');

    function setActiveSection(hash) {
        sections.forEach(section => {
            if ('#' + section.id === hash) {
                section.classList.add('active');
            } else {
                section.classList.remove('active');
            }
        });
        navLinks.forEach(link => {
            if (link.getAttribute('href') === hash) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetHash = this.getAttribute('href');
            setActiveSection(targetHash);
            // In a real SPA you'd use history.pushState, but for this single file it's fine.
            // window.location.hash = targetHash;
        });
    });

    const guidanceTabs = document.querySelectorAll('.guidance-tab');
    guidanceTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            guidanceTabs.forEach(t => t.classList.remove('active', 'text-indigo-600', 'border-indigo-500'));
            this.classList.add('active', 'text-indigo-600', 'border-indigo-500');
            renderGuidance(this.dataset.tab);
        });
    });


    // Initial state
    setActiveSection('#tong-quan');
    renderCoreNumbers();
    renderBirthChart();
    renderPinnacles();
    renderGuidance('potentials');
    document.querySelector('.guidance-tab[data-tab="potentials"]').classList.add('text-indigo-600', 'border-indigo-500');

    // Add styles for the .cell class used in the birth chart grid
    const styleSheet = document.createElement("style");
    styleSheet.type = "text/css";
    styleSheet.innerText = `
        .cell {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.75rem; /* rounded-xl */
            font-size: 1.5rem; /* text-2xl */
        }
    `;
    document.head.appendChild(styleSheet);
});

// --- TOGGLE FUNCTIONS (Global Scope) ---
function toggleCard(button) {
    const card = button.parentElement;
    const content = card.querySelector('.card-content');
    const icon = button.querySelector('div:last-child');
    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        content.style.maxHeight = '0px';
        content.style.opacity = '0';
        icon.style.transform = 'rotate(0deg)';
    } else {
        content.style.maxHeight = content.scrollHeight + 'px';
        content.style.opacity = '1';
        icon.style.transform = 'rotate(90deg)';
    }
}

function showArrowDetails(card) {
    const details = card.querySelector('.arrow-details');
    card.classList.toggle('bg-slate-200');
    details.classList.toggle('hidden');
}

function togglePinnacle(item) {
    // Close other active pinnacles
    const allPinnacles = document.querySelectorAll('.pinnacle-item');
    allPinnacles.forEach(p => {
        if (p !== item && p.classList.contains('active')) {
            p.classList.remove('active');
        }
    });
    // Toggle current pinnacle
    item.classList.toggle('active');
}

</script>
</body>
</html>
